<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>克疾文轩</title>
  
  <subtitle>徐思远的记录空间</subtitle>
  <link href="https://github.com/XuSiyuan-cn/atom.xml" rel="self"/>
  
  <link href="https://github.com/XuSiyuan-cn/"/>
  <updated>2021-03-23T18:12:28.262Z</updated>
  <id>https://github.com/XuSiyuan-cn/</id>
  
  <author>
    <name>XuSiyuan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>3月的结束</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/24/05%20%E5%85%8B%E7%96%BE%E4%B9%8B%E8%B7%AF/10%20%E4%B8%89%E6%9C%88%E7%9A%84%E7%BB%93%E6%9D%9F/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/24/05%20%E5%85%8B%E7%96%BE%E4%B9%8B%E8%B7%AF/10%20%E4%B8%89%E6%9C%88%E7%9A%84%E7%BB%93%E6%9D%9F/</id>
    <published>2021-03-23T18:12:28.075Z</published>
    <updated>2021-03-23T18:12:28.262Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>三月快结束啦</FONT></p><a id="more"></a><p>还没准备好呢，今年就已经过去一个季度了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(P的分数高&amp;&amp;科目不变)&#123;</span><br><span class="line">瞄准一波P;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">T ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;三月快结束啦&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="克疾之路" scheme="https://github.com/XuSiyuan-cn/categories/%E5%85%8B%E7%96%BE%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Chapter 16 Interactive Graphic Design</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/16/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2016%20Interactive%20Graphic%20Design/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/16/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2016%20Interactive%20Graphic%20Design/</id>
    <published>2021-03-16T13:59:47.000Z</published>
    <updated>2021-03-29T05:41:03.386Z</updated>
    
    <content type="html"><![CDATA[<p>交互图形设计</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;交互图形设计&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 15 ACLLib</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/15/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2015%20ACLLib/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/15/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2015%20ACLLib/</id>
    <published>2021-03-15T13:59:47.000Z</published>
    <updated>2021-03-29T05:41:09.763Z</updated>
    
    <content type="html"><![CDATA[<p>ACLLib的基本图形函数</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;ACLLib的基本图形函数&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 14 Linked List</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/14/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2014%20Linked%20List/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/14/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2014%20Linked%20List/</id>
    <published>2021-03-14T13:59:47.000Z</published>
    <updated>2021-03-29T05:41:15.291Z</updated>
    
    <content type="html"><![CDATA[<p>链表</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;链表&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 13 File</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/13/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2013%20File/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/13/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2013%20File/</id>
    <published>2021-03-13T13:59:47.000Z</published>
    <updated>2021-03-29T05:40:41.525Z</updated>
    
    <content type="html"><![CDATA[<p>文件</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;文件&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 12 Program Structure</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/12/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2012%20Program%20Structure/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/12/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2012%20Program%20Structure/</id>
    <published>2021-03-12T13:59:47.000Z</published>
    <updated>2021-03-29T05:41:23.054Z</updated>
    
    <content type="html"><![CDATA[<p>程序结构</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;程序结构&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 11 Structure Type</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/11/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2011%20Structure%20Type/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/11/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2011%20Structure%20Type/</id>
    <published>2021-03-11T13:59:47.000Z</published>
    <updated>2021-03-29T05:41:30.456Z</updated>
    
    <content type="html"><![CDATA[<p>结构类型</p><a id="more"></a>]]></content>
    
    
    <summary type="html">&lt;p&gt;结构类型&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 10 Strings</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/10/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2010%20Strings/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/10/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2010%20Strings/</id>
    <published>2021-03-10T13:59:47.000Z</published>
    <updated>2021-03-29T05:40:30.297Z</updated>
    
    <content type="html"><![CDATA[<p>字符串</p><a id="more"></a><h1 id="判断"><a href="#判断" class="headerlink" title="判断"></a><FONT COLOR = SpringGreen>判断</font></h1><h2 id="if-判断"><a href="#if-判断" class="headerlink" title=" if 判断"></a><FONT COLOR = Cyan> if 判断</font></h2><p>　　格式：<code>if(条件成立)&#123;则...&#125;</code><br>　　以算时间差为例，上一讲我们采取全部换算成分钟来做，这次采取用 if 判断是否存在借位的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hour1 , hour2 , minute1 , minute2 ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour1 , &amp;minute1) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour2 , &amp;minute2) ;</span><br><span class="line"><span class="keyword">int</span> hour , minute ;</span><br><span class="line">hour = hour2 - hour1 ;</span><br><span class="line">minute = minute2 - minute1 ;</span><br><span class="line"><span class="keyword">if</span>( minute &lt; <span class="number">0</span> )&#123;</span><br><span class="line">minute = minute + <span class="number">60</span> ;</span><br><span class="line">hour-- ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;时间差是%d小时%d分钟\n&quot;</span>, hour , minute ) ;</span><br></pre></td></tr></table></figure><h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a><FONT COLOR = Cyan>关系运算</font></h2><p><a href="https://imgtu.com/i/6Gslzd"><img src="https://s3.ax1x.com/2021/03/10/6Gslzd.png" alt="6Gslzd.png"></a></p><p>　　关系运算的结果只有两个值，如果符合预期则是1，如果不符合预期则是0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> == <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &gt; <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &lt;= <span class="number">3</span> );</span><br></pre></td></tr></table></figure><p>　　输出的值分别是0 、1、0。<br>　　所有的关系运算符的优先级都要比算术运算低，但是比赋值运算高。<br>　　在关系运算符之间，判断是否相等的 ==、！= 优先级也要比其他判断大小的优先级要低。</p><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><FONT COLOR = Cyan>注释</font></h2><p>　　单行注释：C语言里，双斜杠可以表示一行都是注释 // ，C99支持，ANSI不支持。<br>　　多行注释：/**/ 可以表示多行注释</p><h2 id="else"><a href="#else" class="headerlink" title="else"></a><FONT COLOR = Cyan>else</font></h2><p>　　以算找零为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price , bill ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入金额\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入票面\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;bill) ;</span><br><span class="line"><span class="keyword">if</span>(bill &gt; price)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应该找您%d\n&quot;</span>,bill-price) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;钱不够&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　if - else 格式与流程图如下所示：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( 条件表达式 )&#123;</span><br><span class="line"><span class="keyword">if</span>体语句</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">else</span>体语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<a href="https://imgtu.com/i/6J5b9I"><img src="https://s3.ax1x.com/2021/03/10/6J5b9I.jpg" alt="6J5b9I.jpg" style="zoom: 67%;" /></a></p><h2 id="没有大括号"><a href="#没有大括号" class="headerlink" title="没有大括号"></a><FONT COLOR = Cyan>没有大括号</font></h2><p>　　一个基本的 if 语句由一个关键字 if 开头，跟上在括号里的一个表示条件的逻辑表达式，然后是一对大括号 “{}” 之间的若干条语句。<br>　　如果表示条件的逻辑表达式的结果不是零，那么就执行后面跟着的这对大括号中的语句，否则就跳过这些语句不执行，而继续下⾯面的其他语句。</p><p>　　if 语句还有一种形式，就是没有大括号的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( total &gt; amount )</span><br><span class="line">total += amount+<span class="number">10</span> ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>if 语句这一行结束的时候并没有表示语句结束的分号 “ ; ” </font>。而后面的赋值语句写在 if 的下一行，在这一行结束的时候有一个表示语句结束的分号。这表明这条赋值语句是if语句的一部分，if 语句拥有和控制这条赋值语句，决定它是否要被执行。else 同理。</p><p>　　以计算加班费为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> rate = <span class="number">8.25</span> ;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> standard = <span class="number">40</span> ;</span><br><span class="line"><span class="keyword">double</span> pay = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> hours ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入工作的小时数：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;hours) ;</span><br><span class="line"><span class="keyword">if</span>( hours &gt; standard )</span><br><span class="line">pay = standard * rate + ( hours - standard ) * ( rate * <span class="number">1.5</span> ) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">pay = hours * rate ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应付工资：%f\n&quot;</span>,pay) ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　以判断成绩为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PASS = <span class="number">60</span> ;</span><br><span class="line"><span class="keyword">int</span> score ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;清输入成绩：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;score) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;你输入的成绩是%d。\n&quot;</span>, score ) ;</span><br><span class="line"><span class="keyword">if</span>( score &gt;= PASS)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;及格了\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;再见\n&quot;</span>) ; </span><br></pre></td></tr></table></figure><p>　　可以看到，if 和 else 后面都没有大括号，那么紧跟着 if 和 else 的语句就是他们控制的语句。而《判断成绩》里的再见不属于 if 或者 else 控制。但这种写法很危险！</p><h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a><FONT COLOR = SpringGreen>循环</font></h1><h2 id="while"><a href="#while" class="headerlink" title="while"></a><FONT COLOR = Cyan>while</font></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( 循环条件 )&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>　　while循环意思是：当条件满足的时候，不断地重复循环体内的语句。</p><p><a href="https://imgtu.com/i/6JjH6H"><img src="https://s3.ax1x.com/2021/03/10/6JjH6H.jpg" alt="6JjH6H.jpg"></a></p><p>　　以计算数字的位数为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　这个程序有一个不完美的地方，就是当 x = 0 时，没办法正常数数。做题的时候学会写一下基本的算法：<br>1、用户输入 x ；<br>2、初始化 n 为0；<br>3、x = x / 10 ，去掉个位 ；<br>4、n++ ；<br>5、如果 x &gt; 0 ，回到3 ；<br>6、否则 n 就是结果。<br>　　如果是上面那种代码，相当于把第五步放到第二步后面，所以应该改成以下形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　其实这个循环就是 do - while 。因为不管是什么数，都要至少数一次，所以用 do - while 比较好。</p><p>　　循环体内一定要有改变条件的机会，不然就会成为死循环，在编译的时候不会出现语法问题，但结果是错的，或者超时。</p><h2 id="do-while"><a href="#do-while" class="headerlink" title="do - while"></a><FONT COLOR = Cyan>do - while</font></h2><p>　　在进入循环的时候不做检查，而是在执行完一轮循环体的代码后，再来检查循环的条件是否满足，如果满足则继续下一轮的循环，不满足则结束循环：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125;<span class="keyword">while</span>( 循环条件 ) ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>特别注意的是，while() 后面有一个分号。表示一行语句结束的要么是分号，要么是大括号。</font></p><p><a href="https://imgtu.com/i/6JjbXd"><img src="https://s3.ax1x.com/2021/03/10/6JjbXd.jpg" alt="6JjbXd.jpg"></a></p><p>　　while 循环以及 do - while 循环本质是一样的，特别的，判断循环是否继续的条件是一样的。区别是 do -while 无论如何循环体都会至少执行一遍。</p><h2 id="for"><a href="#for" class="headerlink" title=" for "></a><FONT COLOR = Cyan> for </font></h2><p>计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> , i = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= number )&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>这种循环次数很确定的程序很适合用 for 循环来编写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<code>for( 初始条件 ; 循环继续的条件 ; 循环每轮最后要做的动作)</code><br>　　读成：对于一开始的初始条件，当循环条件成立时，重复做循环体，循环体完毕后，执行循环每轮最后要做的动作，然后判断循环条件。</p><p>　　<code>for( count = 10 ; count &gt; 0 ; count-- )</code><br>　　读成：对于一开始的 count = 10，当 count &gt; 0 时，重复做循环体，循环体完毕后，执行 count – ，然后判断 count &gt; 0 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( 表达式<span class="number">1</span> ; 表达式<span class="number">2</span> ; 表达式<span class="number">3</span>)&#123;</span><br><span class="line">&lt;循环体&gt; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgtu.com/i/6JjLnA"><img src="https://s3.ax1x.com/2021/03/10/6JjLnA.jpg" alt="6JjLnA.jpg"></a></p><p>　　表达式1可以没有，也可以在表达式1里面定义变量，比如上述的计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>　　如果在 for 循环表达式1里面定义变量，可能会出现一个警告：</p><blockquote><p>[Error] ‘for’ loop initial declarations are only allowed in C99 mode</p><p>[Note] use option -std=c99 or -std=gnu99 to compile your code</p></blockquote><p>　　这种写法是C99才有的，看编译器的接受程度。<br>　　for 循环像一个计数循环：设定一个计数器，初始化它，然后在计数器到达某值之前，重复执行循环体。相比于其他两种循环，for 循环的次数判断是最简单的。</p><h2 id="循环的选择"><a href="#循环的选择" class="headerlink" title="循环的选择"></a><FONT COLOR = Cyan>循环的选择</font></h2><p>　　如果有固定的次数，用 for<br>　　如果必须执行一次，用 do - while<br>　　其他情况用 while </p><h1 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a><FONT COLOR = SpringGreen>讨论</font></h1><h2 id="会被替换为什么？"><a href="#会被替换为什么？" class="headerlink" title="/* */会被替换为什么？"></a><FONT COLOR = Cyan>/* */会被替换为什么？</font></h2><p>　　编译器在把代码翻译成汇编代码前，还有一个步骤叫预处理。在预处理当中会把注释代码干掉。可以使用以下命令来进行预处理：<br>　　gcc -E hello.c -o hello.i<br>　　hello.i 里面就是预处理后的代码。<br>　　一条语句前的注释 =&gt; 等长的空格；<br>　　一条语句中的注释 =&gt; 一个空格；<br>　　一条语句后的注释 =&gt; 直接删除</p><h2 id="最大的数有多大？"><a href="#最大的数有多大？" class="headerlink" title="最大的数有多大？"></a><FONT COLOR = Cyan>最大的数有多大？</font></h2><p>　　C语言能处理的数字是有上限的。<br>　　首先要搞清楚自己编译器各个数据类型占据多少个字节：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a;</span><br><span class="line"><span class="keyword">char</span>* b; <span class="comment">//指针变量，32位系统与64为系统不一样</span></span><br><span class="line">   <span class="keyword">short</span> <span class="keyword">int</span> c;</span><br><span class="line">   <span class="keyword">int</span> d;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> e;</span><br><span class="line">   <span class="keyword">float</span> f;</span><br><span class="line">   <span class="keyword">double</span> g;</span><br><span class="line">   <span class="keyword">long</span> h;</span><br><span class="line">   <span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> j;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char a=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(a));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char*b=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(b));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;short int c=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(c));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;int d=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(d));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsigned int e=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(e));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;float f=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(f));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;double g=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(g));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long h=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(h));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long long i=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(i));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsiged long j=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(j));</span><br></pre></td></tr></table></figure><p>　　对整型int来说，一个整数占4个字节，一个字节可以储存8位无符号数，所以一个整数占32bit，其中最高位要表示符号，所以最小的数就是 -2^31。而最大的数是 2^31-1，理由是要减去一个0。</p><h2 id="for很怪吗？"><a href="#for很怪吗？" class="headerlink" title="for很怪吗？"></a><FONT COLOR = Cyan>for很怪吗？</font></h2><p>　　为什么老师说for循环很怪？for循环是高级语言出现的第一种循环，它和现代的程序设计理念是否存在差距？为什么Python语言就没有C语言这种形式的for循环了？</p><p>　　for循环更加偏向于机器理解的指令，不像while语句更容易让人理解。<br>　　Python中用的是 for in 语句，打个比方，for(int i=0;i&lt;10;i++) 在python中表示为 for i in range(0,10)，python的语法更让人理解。</p><h1 id="习题"><a href="#习题" class="headerlink" title="习题"></a><FONT COLOR = SpringGreen>习题</font></h1><h2 id="输出所有小于等于n的奇数"><a href="#输出所有小于等于n的奇数" class="headerlink" title="输出所有小于等于n的奇数"></a><FONT COLOR = Cyan>输出所有小于等于n的奇数</font></h2><p><strong>题目内容：</strong><br>　　比如输入8，则要输出1 3 5 7.比如输入9，则要输出1 3 5 7 9.</p><p><strong>输入格式:</strong><br>　　输入一个正整数n，表示班级的人数。</p><p><strong>输出格式：</strong><br>　　每两个数之间用一个空格隔开，最后一个数后面没有空格。</p><p><strong>输入样例：</strong>11</p><p><strong>输出样例：</strong>1 3 5 7 9 11</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n) ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= n )&#123;</span><br><span class="line"><span class="keyword">if</span>( i % <span class="number">2</span> == <span class="number">0</span> )&#123;</span><br><span class="line">i++ ;</span><br><span class="line"><span class="keyword">continue</span> ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i) ;</span><br><span class="line"><span class="keyword">if</span>( i &lt; n<span class="number">-1</span> )&#123; <span class="comment">//这里我一开始条件是i&lt;n，那样输入偶数就不对了</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//printf(&quot;f&quot;) ;//用来看尾巴有没有空格</span></span><br></pre></td></tr></table></figure><h2 id="注意-i-和-i-的区别"><a href="#注意-i-和-i-的区别" class="headerlink" title="注意 i++ 和 ++i 的区别"></a><FONT COLOR = Cyan>注意 i++ 和 ++i 的区别</font></h2><p>　　<code>for ( i=0; i&lt;10; i++ ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;10; ++i ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;=9; i++ ) &#123;...&#125;</code><br>　　以上三者等价。<br>　　<code>for ( i=0; i++&lt;10;  ) &#123;...&#125;</code>，这个不一样：</p><p>　　第一种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++ ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　循环了10轮，循环体是 i 从0 到 9。出循环体时 i 是 10。<br>　　第二种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i++&lt;<span class="number">10</span>;  ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　同样是循环了10轮，循环体是 i 从1 到 10。出循环体时 i 是11。</p><h2 id="注意for循环表达式2和表达式3的顺序"><a href="#注意for循环表达式2和表达式3的顺序" class="headerlink" title="注意for循环表达式2和表达式3的顺序"></a><FONT COLOR = Cyan>注意for循环表达式2和表达式3的顺序</font></h2><p>　　口算一下下面这段代码的输出值是多少：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( i=<span class="number">10</span>; i&gt; <span class="number">1</span>; i /=<span class="number">2</span> ) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, i++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　10 5 3 2 。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;字符串&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 09 Pointers</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/09/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2009%20Pointers/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/09/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2009%20Pointers/</id>
    <published>2021-03-09T13:59:47.000Z</published>
    <updated>2021-03-29T05:40:21.472Z</updated>
    
    <content type="html"><![CDATA[<p>指针</p><a id="more"></a><h1 id="判断"><a href="#判断" class="headerlink" title="判断"></a><FONT COLOR = SpringGreen>判断</font></h1><h2 id="if-判断"><a href="#if-判断" class="headerlink" title=" if 判断"></a><FONT COLOR = Cyan> if 判断</font></h2><p>　　格式：<code>if(条件成立)&#123;则...&#125;</code><br>　　以算时间差为例，上一讲我们采取全部换算成分钟来做，这次采取用 if 判断是否存在借位的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hour1 , hour2 , minute1 , minute2 ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour1 , &amp;minute1) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour2 , &amp;minute2) ;</span><br><span class="line"><span class="keyword">int</span> hour , minute ;</span><br><span class="line">hour = hour2 - hour1 ;</span><br><span class="line">minute = minute2 - minute1 ;</span><br><span class="line"><span class="keyword">if</span>( minute &lt; <span class="number">0</span> )&#123;</span><br><span class="line">minute = minute + <span class="number">60</span> ;</span><br><span class="line">hour-- ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;时间差是%d小时%d分钟\n&quot;</span>, hour , minute ) ;</span><br></pre></td></tr></table></figure><h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a><FONT COLOR = Cyan>关系运算</font></h2><p><a href="https://imgtu.com/i/6Gslzd"><img src="https://s3.ax1x.com/2021/03/10/6Gslzd.png" alt="6Gslzd.png"></a></p><p>　　关系运算的结果只有两个值，如果符合预期则是1，如果不符合预期则是0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> == <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &gt; <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &lt;= <span class="number">3</span> );</span><br></pre></td></tr></table></figure><p>　　输出的值分别是0 、1、0。<br>　　所有的关系运算符的优先级都要比算术运算低，但是比赋值运算高。<br>　　在关系运算符之间，判断是否相等的 ==、！= 优先级也要比其他判断大小的优先级要低。</p><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><FONT COLOR = Cyan>注释</font></h2><p>　　单行注释：C语言里，双斜杠可以表示一行都是注释 // ，C99支持，ANSI不支持。<br>　　多行注释：/**/ 可以表示多行注释</p><h2 id="else"><a href="#else" class="headerlink" title="else"></a><FONT COLOR = Cyan>else</font></h2><p>　　以算找零为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price , bill ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入金额\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入票面\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;bill) ;</span><br><span class="line"><span class="keyword">if</span>(bill &gt; price)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应该找您%d\n&quot;</span>,bill-price) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;钱不够&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　if - else 格式与流程图如下所示：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( 条件表达式 )&#123;</span><br><span class="line"><span class="keyword">if</span>体语句</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">else</span>体语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<a href="https://imgtu.com/i/6J5b9I"><img src="https://s3.ax1x.com/2021/03/10/6J5b9I.jpg" alt="6J5b9I.jpg" style="zoom: 67%;" /></a></p><h2 id="没有大括号"><a href="#没有大括号" class="headerlink" title="没有大括号"></a><FONT COLOR = Cyan>没有大括号</font></h2><p>　　一个基本的 if 语句由一个关键字 if 开头，跟上在括号里的一个表示条件的逻辑表达式，然后是一对大括号 “{}” 之间的若干条语句。<br>　　如果表示条件的逻辑表达式的结果不是零，那么就执行后面跟着的这对大括号中的语句，否则就跳过这些语句不执行，而继续下⾯面的其他语句。</p><p>　　if 语句还有一种形式，就是没有大括号的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( total &gt; amount )</span><br><span class="line">total += amount+<span class="number">10</span> ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>if 语句这一行结束的时候并没有表示语句结束的分号 “ ; ” </font>。而后面的赋值语句写在 if 的下一行，在这一行结束的时候有一个表示语句结束的分号。这表明这条赋值语句是if语句的一部分，if 语句拥有和控制这条赋值语句，决定它是否要被执行。else 同理。</p><p>　　以计算加班费为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> rate = <span class="number">8.25</span> ;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> standard = <span class="number">40</span> ;</span><br><span class="line"><span class="keyword">double</span> pay = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> hours ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入工作的小时数：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;hours) ;</span><br><span class="line"><span class="keyword">if</span>( hours &gt; standard )</span><br><span class="line">pay = standard * rate + ( hours - standard ) * ( rate * <span class="number">1.5</span> ) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">pay = hours * rate ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应付工资：%f\n&quot;</span>,pay) ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　以判断成绩为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PASS = <span class="number">60</span> ;</span><br><span class="line"><span class="keyword">int</span> score ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;清输入成绩：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;score) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;你输入的成绩是%d。\n&quot;</span>, score ) ;</span><br><span class="line"><span class="keyword">if</span>( score &gt;= PASS)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;及格了\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;再见\n&quot;</span>) ; </span><br></pre></td></tr></table></figure><p>　　可以看到，if 和 else 后面都没有大括号，那么紧跟着 if 和 else 的语句就是他们控制的语句。而《判断成绩》里的再见不属于 if 或者 else 控制。但这种写法很危险！</p><h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a><FONT COLOR = SpringGreen>循环</font></h1><h2 id="while"><a href="#while" class="headerlink" title="while"></a><FONT COLOR = Cyan>while</font></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( 循环条件 )&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>　　while循环意思是：当条件满足的时候，不断地重复循环体内的语句。</p><p><a href="https://imgtu.com/i/6JjH6H"><img src="https://s3.ax1x.com/2021/03/10/6JjH6H.jpg" alt="6JjH6H.jpg"></a></p><p>　　以计算数字的位数为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　这个程序有一个不完美的地方，就是当 x = 0 时，没办法正常数数。做题的时候学会写一下基本的算法：<br>1、用户输入 x ；<br>2、初始化 n 为0；<br>3、x = x / 10 ，去掉个位 ；<br>4、n++ ；<br>5、如果 x &gt; 0 ，回到3 ；<br>6、否则 n 就是结果。<br>　　如果是上面那种代码，相当于把第五步放到第二步后面，所以应该改成以下形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　其实这个循环就是 do - while 。因为不管是什么数，都要至少数一次，所以用 do - while 比较好。</p><p>　　循环体内一定要有改变条件的机会，不然就会成为死循环，在编译的时候不会出现语法问题，但结果是错的，或者超时。</p><h2 id="do-while"><a href="#do-while" class="headerlink" title="do - while"></a><FONT COLOR = Cyan>do - while</font></h2><p>　　在进入循环的时候不做检查，而是在执行完一轮循环体的代码后，再来检查循环的条件是否满足，如果满足则继续下一轮的循环，不满足则结束循环：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125;<span class="keyword">while</span>( 循环条件 ) ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>特别注意的是，while() 后面有一个分号。表示一行语句结束的要么是分号，要么是大括号。</font></p><p><a href="https://imgtu.com/i/6JjbXd"><img src="https://s3.ax1x.com/2021/03/10/6JjbXd.jpg" alt="6JjbXd.jpg"></a></p><p>　　while 循环以及 do - while 循环本质是一样的，特别的，判断循环是否继续的条件是一样的。区别是 do -while 无论如何循环体都会至少执行一遍。</p><h2 id="for"><a href="#for" class="headerlink" title=" for "></a><FONT COLOR = Cyan> for </font></h2><p>计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> , i = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= number )&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>这种循环次数很确定的程序很适合用 for 循环来编写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<code>for( 初始条件 ; 循环继续的条件 ; 循环每轮最后要做的动作)</code><br>　　读成：对于一开始的初始条件，当循环条件成立时，重复做循环体，循环体完毕后，执行循环每轮最后要做的动作，然后判断循环条件。</p><p>　　<code>for( count = 10 ; count &gt; 0 ; count-- )</code><br>　　读成：对于一开始的 count = 10，当 count &gt; 0 时，重复做循环体，循环体完毕后，执行 count – ，然后判断 count &gt; 0 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( 表达式<span class="number">1</span> ; 表达式<span class="number">2</span> ; 表达式<span class="number">3</span>)&#123;</span><br><span class="line">&lt;循环体&gt; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgtu.com/i/6JjLnA"><img src="https://s3.ax1x.com/2021/03/10/6JjLnA.jpg" alt="6JjLnA.jpg"></a></p><p>　　表达式1可以没有，也可以在表达式1里面定义变量，比如上述的计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>　　如果在 for 循环表达式1里面定义变量，可能会出现一个警告：</p><blockquote><p>[Error] ‘for’ loop initial declarations are only allowed in C99 mode</p><p>[Note] use option -std=c99 or -std=gnu99 to compile your code</p></blockquote><p>　　这种写法是C99才有的，看编译器的接受程度。<br>　　for 循环像一个计数循环：设定一个计数器，初始化它，然后在计数器到达某值之前，重复执行循环体。相比于其他两种循环，for 循环的次数判断是最简单的。</p><h2 id="循环的选择"><a href="#循环的选择" class="headerlink" title="循环的选择"></a><FONT COLOR = Cyan>循环的选择</font></h2><p>　　如果有固定的次数，用 for<br>　　如果必须执行一次，用 do - while<br>　　其他情况用 while </p><h1 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a><FONT COLOR = SpringGreen>讨论</font></h1><h2 id="会被替换为什么？"><a href="#会被替换为什么？" class="headerlink" title="/* */会被替换为什么？"></a><FONT COLOR = Cyan>/* */会被替换为什么？</font></h2><p>　　编译器在把代码翻译成汇编代码前，还有一个步骤叫预处理。在预处理当中会把注释代码干掉。可以使用以下命令来进行预处理：<br>　　gcc -E hello.c -o hello.i<br>　　hello.i 里面就是预处理后的代码。<br>　　一条语句前的注释 =&gt; 等长的空格；<br>　　一条语句中的注释 =&gt; 一个空格；<br>　　一条语句后的注释 =&gt; 直接删除</p><h2 id="最大的数有多大？"><a href="#最大的数有多大？" class="headerlink" title="最大的数有多大？"></a><FONT COLOR = Cyan>最大的数有多大？</font></h2><p>　　C语言能处理的数字是有上限的。<br>　　首先要搞清楚自己编译器各个数据类型占据多少个字节：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a;</span><br><span class="line"><span class="keyword">char</span>* b; <span class="comment">//指针变量，32位系统与64为系统不一样</span></span><br><span class="line">   <span class="keyword">short</span> <span class="keyword">int</span> c;</span><br><span class="line">   <span class="keyword">int</span> d;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> e;</span><br><span class="line">   <span class="keyword">float</span> f;</span><br><span class="line">   <span class="keyword">double</span> g;</span><br><span class="line">   <span class="keyword">long</span> h;</span><br><span class="line">   <span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> j;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char a=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(a));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char*b=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(b));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;short int c=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(c));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;int d=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(d));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsigned int e=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(e));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;float f=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(f));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;double g=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(g));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long h=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(h));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long long i=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(i));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsiged long j=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(j));</span><br></pre></td></tr></table></figure><p>　　对整型int来说，一个整数占4个字节，一个字节可以储存8位无符号数，所以一个整数占32bit，其中最高位要表示符号，所以最小的数就是 -2^31。而最大的数是 2^31-1，理由是要减去一个0。</p><h2 id="for很怪吗？"><a href="#for很怪吗？" class="headerlink" title="for很怪吗？"></a><FONT COLOR = Cyan>for很怪吗？</font></h2><p>　　为什么老师说for循环很怪？for循环是高级语言出现的第一种循环，它和现代的程序设计理念是否存在差距？为什么Python语言就没有C语言这种形式的for循环了？</p><p>　　for循环更加偏向于机器理解的指令，不像while语句更容易让人理解。<br>　　Python中用的是 for in 语句，打个比方，for(int i=0;i&lt;10;i++) 在python中表示为 for i in range(0,10)，python的语法更让人理解。</p><h1 id="习题"><a href="#习题" class="headerlink" title="习题"></a><FONT COLOR = SpringGreen>习题</font></h1><h2 id="输出所有小于等于n的奇数"><a href="#输出所有小于等于n的奇数" class="headerlink" title="输出所有小于等于n的奇数"></a><FONT COLOR = Cyan>输出所有小于等于n的奇数</font></h2><p><strong>题目内容：</strong><br>　　比如输入8，则要输出1 3 5 7.比如输入9，则要输出1 3 5 7 9.</p><p><strong>输入格式:</strong><br>　　输入一个正整数n，表示班级的人数。</p><p><strong>输出格式：</strong><br>　　每两个数之间用一个空格隔开，最后一个数后面没有空格。</p><p><strong>输入样例：</strong>11</p><p><strong>输出样例：</strong>1 3 5 7 9 11</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n) ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= n )&#123;</span><br><span class="line"><span class="keyword">if</span>( i % <span class="number">2</span> == <span class="number">0</span> )&#123;</span><br><span class="line">i++ ;</span><br><span class="line"><span class="keyword">continue</span> ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i) ;</span><br><span class="line"><span class="keyword">if</span>( i &lt; n<span class="number">-1</span> )&#123; <span class="comment">//这里我一开始条件是i&lt;n，那样输入偶数就不对了</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//printf(&quot;f&quot;) ;//用来看尾巴有没有空格</span></span><br></pre></td></tr></table></figure><h2 id="注意-i-和-i-的区别"><a href="#注意-i-和-i-的区别" class="headerlink" title="注意 i++ 和 ++i 的区别"></a><FONT COLOR = Cyan>注意 i++ 和 ++i 的区别</font></h2><p>　　<code>for ( i=0; i&lt;10; i++ ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;10; ++i ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;=9; i++ ) &#123;...&#125;</code><br>　　以上三者等价。<br>　　<code>for ( i=0; i++&lt;10;  ) &#123;...&#125;</code>，这个不一样：</p><p>　　第一种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++ ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　循环了10轮，循环体是 i 从0 到 9。出循环体时 i 是 10。<br>　　第二种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i++&lt;<span class="number">10</span>;  ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　同样是循环了10轮，循环体是 i 从1 到 10。出循环体时 i 是11。</p><h2 id="注意for循环表达式2和表达式3的顺序"><a href="#注意for循环表达式2和表达式3的顺序" class="headerlink" title="注意for循环表达式2和表达式3的顺序"></a><FONT COLOR = Cyan>注意for循环表达式2和表达式3的顺序</font></h2><p>　　口算一下下面这段代码的输出值是多少：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( i=<span class="number">10</span>; i&gt; <span class="number">1</span>; i /=<span class="number">2</span> ) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, i++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　10 5 3 2 。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;指针&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 08 Array</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/08/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2008%20Array/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/08/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2008%20Array/</id>
    <published>2021-03-08T13:59:47.000Z</published>
    <updated>2021-03-31T07:38:05.039Z</updated>
    
    <content type="html"><![CDATA[<p>数组</p><a id="more"></a><h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a><FONT COLOR = SpringGreen>数组</font></h1><p>　　数据可以存放在变量里，每一个变量有一个名字，有一个类型，还有它的生存空间。如果我们需要保存一些相同类型、相似含义、相同生存空间的数据，我们可以用数组来保存这些数据，而不是用很多个独立的变量。数组是长度固定的数据结构，用来存放指定的类型的数据。一个数组里可以有很多个数据，所有的数据的类型都是相同的。</p><h2 id="初见数组"><a href="#初见数组" class="headerlink" title="初见数组"></a><FONT COLOR = Cyan>初见数组</font></h2><p>　　如何写一个程序计算用户输入的数字的平均数？并且输出所有大于平均数的数？——即如何写一个程序用来记录用户输入的所有的数？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , sum = <span class="number">0</span> , i = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">double</span> average ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x) ;</span><br><span class="line"><span class="keyword">int</span> number[<span class="number">100</span>] ;</span><br><span class="line"><span class="comment">//定义一个数组，大小是100，每个单元都是int，所以这个数组最多可以放100个int </span></span><br><span class="line"><span class="keyword">while</span>( x != <span class="number">-1</span> )&#123;</span><br><span class="line">number[i] = x ;</span><br><span class="line"><span class="comment">//i是递增的，于是恰好可以用i来作为指示位置的参数 </span></span><br><span class="line"><span class="comment">//以这种形式对数组中的每个元素赋值</span></span><br><span class="line">sum = sum + x ;</span><br><span class="line">i++ ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>( i &gt; <span class="number">0</span> )&#123; <span class="comment">//这里i大于0就说嘛至少读入了一个数 </span></span><br><span class="line">average = <span class="number">1.0</span> * sum / i ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, average ) ;</span><br><span class="line"><span class="keyword">int</span> j ;</span><br><span class="line"><span class="keyword">for</span>( j = <span class="number">0</span> ; j &lt; i ; j++)&#123; </span><br><span class="line"><span class="comment">//这个 for 循环目的是为了遍历数组number里面所有的元素 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,number[j]) ;</span><br><span class="line"><span class="comment">//输出number里所有的元素</span></span><br><span class="line"><span class="keyword">if</span>( number[j] &gt; average )&#123;</span><br><span class="line"><span class="comment">//使用数组中的元素</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,number[j]) ;</span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　可以用一下代码查看一下，程序中，数组具体的运行情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number[<span class="number">100</span>] ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span> , x ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt; <span class="number">5</span> ; i++ ) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line">number[i] = x ;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;i=%d\n&quot;</span>,i) ;</span><br><span class="line"><span class="keyword">for</span>(; j &lt;= i ; j++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>,number[j]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　其运行结果如下：</p><p><img src="https://www.hualigs.cn/image/6052e612d5a00.jpg"></p><p>　　可以看出来，第一轮在数组0的位置上放了1，第二轮在数组1的位置上放了2……</p><h2 id="定义数组"><a href="#定义数组" class="headerlink" title="定义数组"></a><FONT COLOR = Cyan>定义数组</font></h2><p>　　<Font Color = DarkCyan size = 4 Face = 仿宋><strong>数组的定义</strong></font>：<br>　　<FONT COLOR = LimeGreen>&lt; 类型 &gt; 变量名称 [ 元素数量 ]</font>。这个类型并不是指的数组的类型，严格意义来说而是数组中每一个单元的类型。<br>　　<code>int grades [100];</code>这个数组里面有100个元素，每个元素都是 int 型。<br>　　<code>double weight [20]</code> 这个数组里面有20个元素，每个元素都是double型。<br>　　元素的数量一定要是整数。<br>　　<Font Size = 2>C99以前，元素的数量一定要是常数。但是C99以后，元素的数量也可以是变量。</font></p><p>　　<Font Color = DarkCyan size = 4 Face = 仿宋><strong>数组的宏观感受</strong></font>：类似一种容器，有三个特点：<br>　　1、所有的元素都有相同的数据类型<br>　　2、一旦创建，就不能改变大小<br>　　3、数组中的元素在内存中是连续依次排序的。</p><p>　　以 <code>int a [10]</code>为例：<br>　　这是一个 int 型的数组，这个数组里有10个元素，每个单元都是一个 int 型的变量，分别是：a[0]、a[1],……,a[9]。<br>　　数组的每个单元就是数组类型的一个变量，使用数组时，放在 [ ] 中的数字叫做下标或索引，下标是从 0 开始计数。所以最大的下标是数组大小减一。<br>　　数组的元素可以出现在赋值的左边或者右边。<code>a[2] = a[1] + 6 ;</code>是可以这么写的。赋值左边称为左值，在指针里面会知道，左值和右值是有区别的。</p><p>　　<Font Color = DarkCyan size = 4 Face = 仿宋><strong>有效的下标范围</strong></font><br>　　编译器和运行环境都不会去检查数组下标<Font Size = 2>（也可以叫做索引）</font>是否越界，无论是对数组单元做读还是写。<br>　　一旦程序运行，越界的数组访问可能造成问题，导致程序崩溃：</p><blockquote><p>segmentation fault</p><p>array index _ is past the end of the array</p></blockquote><p>　　也有可能运气好，没造成严重地后果，程序运行正常。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">f() ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] ;</span><br><span class="line">a[<span class="number">10</span>] = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　比如这种情况，<code>a[10] = 0 ;</code>实际上已经出错了，但是编译器并没有报错，实际上，这段代码把 0 写到了不该写的地方，带来的后果是，程序实际上没有运行。比如有以下手段来检验：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">f() ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;main here\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A here\n&quot;</span>) ;</span><br><span class="line">a[<span class="number">10</span>] = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;B here\n&quot;</span>) ; <span class="comment">//这种技巧常常用来判断程序运行状况</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　P.S. 不同的编译器要求不一定相同，但这样的写法是不安全的。</p><p>　　所以一个好的习惯，<FONT COLOR = LimeGreen>就是保证程序只去使用有效的下标值：0 ~ 数组大小-1。</font></p><p>　　所以上面那个计算平均数的程序是有一定风险的，因为一旦用户输入的数字超过100个，程序就报错了。解决办法：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> count ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入数字的数量： \n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;count) ;</span><br><span class="line"><span class="keyword">if</span>( count &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="keyword">int</span> number[count] ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　让用户先想好要输入数字的数量，然后定义数组的大小，这种写法，是C99 Only。</p><p>　　<Font Size = 2><code>int a [0] ;</code>这种东西可以存在，但是毫无用处，因为此时数组的大小是空的，即便是 a [0] 也越界了。</font></p><h2 id="例子：统计个数"><a href="#例子：统计个数" class="headerlink" title="例子：统计个数"></a><FONT COLOR = Cyan>例子：统计个数</font></h2><p>　　写一个程序，输入数量不确定的 [ 0 , 9 ] 范围内的整数，统计每一种数字出现的次数，输入 -1 表示结束。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> number = <span class="number">10</span> ; <span class="comment">//c99 only ，为了避免程序出现magic number</span></span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="keyword">int</span> count[ number ] ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; number ; i++ )&#123;</span><br><span class="line">count[i] = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这个for循环的目的是定义10个变量，且每个变量的初始值都是0 </span></span><br><span class="line"><span class="comment">//这个循环是使用数组的时候常用的，初始化数组循环 </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">while</span>( x != <span class="number">-1</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( x &gt;= <span class="number">0</span> &amp;&amp; x &lt;= <span class="number">9</span> )&#123;</span><br><span class="line">count[ x ]++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这个循环的目的是计数，仔细思考下</span></span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; number ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span> , i , count[i]) ;</span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//这个循环就是对数组 count 的遍历 </span></span><br></pre></td></tr></table></figure><h1 id="数组运算"><a href="#数组运算" class="headerlink" title="数组运算"></a><FONT COLOR = SpringGreen>数组运算</font></h1><p>　　如何去写一个   搜索的程序？先看看以下代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">32</span>&#125; ;</span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="keyword">int</span> loc ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个数字： &quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">loc = search( x , a , <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]) ) ;</span><br><span class="line"><span class="keyword">if</span>( loc != <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d在第%d个位置上\n&quot;</span>,x,loc) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d不存在\n&quot;</span>, x ) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">( <span class="keyword">int</span> key , <span class="keyword">int</span> a[] , <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">-1</span> ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>( a[i] == key )&#123;</span><br><span class="line">ret = i ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组集成初始化"><a href="#数组集成初始化" class="headerlink" title="数组集成初始化"></a><FONT COLOR = Cyan>数组集成初始化</font></h2><p>　　<code>int a[] = &#123;2,4,6,7,1,3,5,9,11,13,23,14,32&#125; ;</code>这段代码是<FONT COLOR = LimeGreen>数组的集成初始化</font>。定义数组时有两种办法，第一种是不去初始化它，第二种方法就是这样，直接用大括号给出数组的所有元素的初始值——给他一组数字，用这组数字去初始化数组。<br>　　使用这种办法的时候，不用给出数组的具体大小，[ ] 里没有数字，让编译器来数数。<br>　　如果强行去给数组的大小，而且后面的值不匹配怎么办？看下面代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">13</span>] = &#123;<span class="number">2</span>&#125;;<span class="comment">//这里就是强行定义数组大小，且大于后面的集合</span></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">13</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d  &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这种情况下，输出值如下：</p><p><img src="https://www.hualigs.cn/image/6061a78f25d41.jpg"></p><p>　　可以说，这种情况下，其实就是给<code>a[0]</code>赋值，其余没有赋值，编译器则用0来补充。所以以下两种写法是相同的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++ )&#123;</span><br><span class="line">a[i] = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d  &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d  &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　反过来呢？如果定义的数组长度小于集成初始化给的长度呢？看下面代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125; ;<span class="comment">//强行规定数组大小，且小于后面的集合</span></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">5</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>[Warning] excess elements in array initializer [enabled by default]<br>[Warning] (near initialization for ‘a’) [enabled by default]<br>[Warning] excess elements in array initializer [enabled by default]<br>[Warning] (near initialization for ‘a’) [enabled by default]</p></blockquote><p>　　此时会有如上警告。</p><p>　　还有一个小问题，如果对于大小为3个的数组，在遍历输出的时候，如果不小心输出的长度大于3会如何？看下面的代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125; ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">5</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://www.hualigs.cn/image/6061c5e0007d3.jpg"></p><p>　　可以看出来，前三位是正常的，分别是<code>a[0] a[1] a[2]</code>但是后面的数，就是程序不存在的东西，实际上是内存原有的东西。</p><h2 id="集成初始化定位"><a href="#集成初始化定位" class="headerlink" title="集成初始化定位"></a><FONT COLOR = Cyan>集成初始化定位</font></h2><p>　　C99 only！</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;</span><br><span class="line">[<span class="number">0</span>] = <span class="number">2</span> , [<span class="number">2</span>] = <span class="number">3</span> , <span class="number">6</span></span><br><span class="line">&#125; ;</span><br></pre></td></tr></table></figure><p>　　用<code>[n]</code>在初始化数据中给出定位。<br>　　没有定位的数据接在前面的位置后面，比如这个定义，实际上<code>a[3] = 6</code>。<br>　　其他位置的值补零。<br>　　也可以不给出数组大小，让编译器自己算，比如这个数组，如果不给出长度为10，那么编译器会认为他的长度为3。<br>　　特别适合初始数据稀疏的数组。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;</span><br><span class="line">[<span class="number">0</span>] = <span class="number">2</span> , [<span class="number">2</span>] = <span class="number">3</span> , <span class="number">6</span></span><br><span class="line">&#125; ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">10</span> ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://www.hualigs.cn/image/6061d836cd5cb.jpg"></p><h2 id="数组的大小"><a href="#数组的大小" class="headerlink" title="数组的大小"></a><FONT COLOR = Cyan>数组的大小</font></h2><p>　　<code>sizeof</code>是一个运算符，可以告诉我们这个量有多大。对数组使用<code>sizeof</code>可以给出整个数组所占据的内容大小，单位是字节。可以求出这个数组占据多少个字节。<br>　　比如上条程序：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;</span><br><span class="line">[<span class="number">0</span>] = <span class="number">2</span> , [<span class="number">2</span>] = <span class="number">3</span> , <span class="number">6</span></span><br><span class="line">&#125; ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a)) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a[<span class="number">0</span>])) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>])) ;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时就会输出40、4。说明在改数组中，一个元素占据4个字节，一共占据40个字节，所以一共有十个元素。</p><p><FONT COLOR = LimeGreen>　　所以对于任何一个数组，可以使用<code>sizeof(a)/sizeof(a[0])</code>来计算数组中的元素。</font>这样的代码，最大的好处是：一旦修改数组中初始的数据，不需要修改遍历的代码，比如把遍历的代码改成：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>] = &#123;</span><br><span class="line">[<span class="number">0</span>] = <span class="number">2</span> , [<span class="number">2</span>] = <span class="number">3</span> , <span class="number">6</span></span><br><span class="line">&#125; ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]) ; i++ )&#123;<span class="comment">//这样就安全多了，也不会出现 magic number</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组的赋值"><a href="#数组的赋值" class="headerlink" title="数组的赋值"></a><FONT COLOR = Cyan>数组的赋值</font></h2><p>　　已知一个数组<code>a[]</code>，能不能用这个数组直接给另外一个数组赋值？比如说;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[] = &#123; <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,&#125; ;<span class="comment">//最末尾这个逗号可有可无</span></span><br><span class="line"><span class="keyword">int</span> b[] = a ; <span class="comment">//无效的初始值设定项</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时会报错：</p><blockquote><p>[Error] invalid initializer</p></blockquote><p>　　<FONT COLOR = LimeGreen>数组变量本身不能被赋值，要把一个数组的所有元素交给另一个数组，必须采用遍历</font></p><p>　　以下就是目前接触的遍历数组的情况。<br>　　其中<code>length = sizeof(a)/sizeof(a[0])</code></p><p>　　把数组 a 的值全都赋值给数组 b ：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++ )&#123;</span><br><span class="line">b[i] = a[i] ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　把数组 a 全部赋值为 0 ：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length; i++ )&#123;</span><br><span class="line">a[i] = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　判断数组中是否有和关键字相同的数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++  )&#123;</span><br><span class="line"><span class="keyword">if</span>( a[i] == key )&#123;</span><br><span class="line">ret = i ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　判断数组中是否有大于平均数的数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( a[i] &gt; average)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , a[i]) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　遍历数组，并且将他们全部输出：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++ )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>,i,a[i]) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>对于数组的遍历，通常是使用 for 循环，让循环变量 i 从 0 到（&lt;） 数组的长度</font>，这样循环体内的 i 正好是数组最大的有效下标（length -1）。<br>　　<FONT COLOR = LimeGreen>常见错误</font>：<br>　　循环结束条件是 &lt;= 数组长度。此时刚好会多输出一个量，此时程序会超过数组的长度（非常危险）。<br>　　离开循环后，继续用 i 的值来做数组元素的下标。此时 i 的值是 length 也就是说已经超过数组范围了。</p><h2 id="搜索程序解读"><a href="#搜索程序解读" class="headerlink" title="搜索程序解读"></a><FONT COLOR = Cyan>搜索程序解读</font></h2><p><Font Color = DarkCyan size = 4 Face = 仿宋><strong>主程序</strong></font>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a[] = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">32</span>&#125; ;</span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="keyword">int</span> loc ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个数字： &quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">loc = search( x , a , <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]) ) ;</span><br><span class="line"><span class="keyword">if</span>( loc != <span class="number">-1</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d在第%d个位置上\n&quot;</span>,x,loc) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d不存在\n&quot;</span>, x ) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>　　其中，主程序会调用 search 这个函数，并且返回一个值给 loc 。如果返回值是 -1 ，则说明输入的数字不在数组中；否则，则输出该数字在改数组的第几位。</p><p><Font Color = DarkCyan size = 4 Face = 仿宋><strong>search 函数</strong></font>：</p><p>　　找出 key 在数组 a 中的位置，其中该函数有三个参数：<br>　　key ：要寻找的数字。a 要寻找的数组。length 数组a 的长度。<br>　　ret 是函数最后的返回值，如果找到，则让 ret 返回为 key 在 a 的位置。如果找不到就返回 -1 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">( <span class="keyword">int</span> key , <span class="keyword">int</span> a[] , <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">-1</span> ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; length ; i++)&#123;<span class="comment">//对数组遍历，每次遍历是拿出一个单元，判断和 key 是否相等。</span></span><br><span class="line"><span class="keyword">if</span>( a[i] == key )&#123;</span><br><span class="line">ret = i ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>当函数的参数是数组的时候</font>，比如这个 search 函数，往往必须再用另一个参数传入数组的大小，此时不太好用 <code>sizeof(a)/sizeof(a[0])</code>。<br>　　此时不能在 [ ] 中直接给出数组的大小，也不能利用 sizeof 计算数组的元素个数。<br>　　所以这里引入 length 。</p><h1 id="例子：素数"><a href="#例子：素数" class="headerlink" title="例子：素数"></a><FONT COLOR = SpringGreen>例子：素数</font></h1><p>　　先复习一下，之前用 if - else 判断素数的程序：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> isPrime = <span class="number">0</span> ; </span><br><span class="line"><span class="keyword">int</span> x , i ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">2</span> ; i &lt; x ; i++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span> )&#123;</span><br><span class="line">isPrime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(isPrime)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;不是素数&quot;</span>) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;是素数&quot;</span>) ; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个程序有个缺陷，对于 n 可能要循环 n - 1 遍，如果 n 非常大，则程序效率不高。</p><h2 id="算法改进1"><a href="#算法改进1" class="headerlink" title="算法改进1"></a><FONT COLOR = Cyan>算法改进1</font></h2><p>　　首先判断 x 是否为偶数，如果是偶数，立马认为其不是素数。去掉偶数后，让 i 从 3 到 x - 1 ，每次都加 2。具体操作：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( x == <span class="number">1</span> || ( x % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; x != <span class="number">2</span>))&#123; <span class="comment">//注意这个逻辑表达</span></span><br><span class="line">ret = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">3</span> ; i &lt; x ; i = i + <span class="number">2</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">ret = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　由于几乎去掉了所有的偶数，所以和原来相比，我们只需要走一半的循环即可。</p><h2 id="算法改进2"><a href="#算法改进2" class="headerlink" title="算法改进2"></a><FONT COLOR = Cyan>算法改进2</font></h2><p>　　不需要到 x - 1，到 <code>sqrt(X)</code>即可。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( x == <span class="number">1</span> || ( x % <span class="number">2</span> == <span class="number">0</span> &amp;&amp; x != <span class="number">2</span>))&#123; <span class="comment">//注意这个逻辑表达</span></span><br><span class="line">ret = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">3</span> ; i &lt; <span class="built_in">sqrt</span>(x) ; i = i + <span class="number">2</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">ret = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　为什么只要算到根号x即可？因为整除嘛。这样大大提高了效率。</p><h2 id="算法改进3"><a href="#算法改进3" class="headerlink" title="算法改进3"></a><FONT COLOR = Cyan>算法改进3</font></h2><p>　　只要拿比 x 小的素数除一除就可以了（分解质因数原理），所以要先构造一张已经有了的素数的表。</p><p>　　比如先要构造一张前100个素数的表（数组）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> number = <span class="number">100</span> ;</span><br><span class="line"><span class="keyword">int</span> prime[<span class="number">100</span>] = &#123;<span class="number">2</span>&#125; ;<span class="comment">//这里写int prime[number] 会报错，C++才能这么写</span></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">3</span> ;</span><br><span class="line"><span class="keyword">while</span>( count &lt; number )&#123;</span><br><span class="line"><span class="keyword">if</span>( isPrime( i , prime , count))&#123;</span><br><span class="line">prime[count++] = i ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　其中，判断素数的函数 <code>isPrime()</code>如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isPrime</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> knownPrimes[] , <span class="keyword">int</span> numberofKnowPrimes)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; numberofKnowPrimes ; i++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % knownPrimes[i] == <span class="number">0</span> )&#123;</span><br><span class="line">ret = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> ret ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　该函数需要三个参数，分别是 x 、已经判断过的素数、素数排行（是第几个素数）<br>　　<code>x</code>，就是我们需要判断的数，这个函数就是用来判断 x 是不是素数。<br>　　<code>knownPrimes[ ]</code> ，可以看到，第二个参数是一个数组，这个数组就是 main 函数里的 prime 。<FONT COLOR = RED>这里有个问题，为什么 main 里面调用函数的时候第二个参数给的是 prime ，这里的 prime 值是多少？</font>总而言之，这个数组应该是一个素数集合。<br>　　<code>numberofKnowPrimes</code>就是目前已经有了多少个素数。注意 for 里面的，是小于号。<br>　　<Font Size = 2>这个设计真的很巧妙</font></p><p>　　这个函数就是用来判断，一个数是否为</p><h1 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a><FONT COLOR = SpringGreen>二维数组</font></h1><p>　　<code>int a[10]</code>这个数组只有一个下标，可以看做是一维数组，线性的。<br>　　<code>int a[3][5]</code>就是二维数组，对于二维数组，可以理解为 a 是一个3行5列的矩阵：</p><table><thead><tr><th><code>a[0][0]</code></th><th><code>a[0][1]</code></th><th><code>a[0][2]</code></th><th><code>a[0][3]</code></th><th><code>a[0][4]</code></th></tr></thead><tbody><tr><td><code>a[1][0]</code></td><td><code>a[1][1]</code></td><td><code>a[1][2]</code></td><td><code>a[1][3]</code></td><td><code>a[1][4]</code></td></tr><tr><td><code>a[2][0]</code></td><td><code>a[2][1]</code></td><td><code>a[2][2]</code></td><td><code>a[2][3]</code></td><td><code>a[2][4]</code></td></tr></tbody></table><p><Font Size = 2>　　如果不考虑数组在计算机内存中是如何排列的，那么把它看成5行3列也没关系小，但是不建议这么做。倾向于第一个下标为行数，第二个下标为列数</font></p><h2 id="二维数组遍历"><a href="#二维数组遍历" class="headerlink" title="二维数组遍历"></a><FONT COLOR = Cyan>二维数组遍历</font></h2><p>　　用两个 for 循环就可以遍历二维数组：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">0</span> ; i &lt; <span class="number">3</span> ; i++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( j = <span class="number">0</span> ; j &lt; <span class="number">5</span> ; j++ )&#123;</span><br><span class="line">a[i][j] = i*j ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　　以<code>int a[i][j]</code>为例，该数组里所有的元素都是 int 型。特别注意的是，<code>a[i,j]</code>在C语言里表示<code>a[j]</code>，因为此时逗号是运算符。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;数组&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>chapter 07 Function</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/07/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2007%20Function/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/07/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2007%20Function/</id>
    <published>2021-03-07T13:59:47.000Z</published>
    <updated>2021-03-29T05:40:04.196Z</updated>
    
    <content type="html"><![CDATA[<p>函数</p><a id="more"></a><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a><FONT COLOR = SpringGreen>函数</font></h1><p>　　不要从数学的意义来理解函数，要从 function（功能）的意义来理解函数。</p><h2 id="初见函数"><a href="#初见函数" class="headerlink" title="初见函数"></a><FONT COLOR = Cyan>初见函数</font></h2><h3 id="求素数和"><a href="#求素数和" class="headerlink" title="求素数和"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>求素数和</strong></font></h3><p>　　求 m ~ n 之间所有素数的和：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> m , n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span> , &amp;m , &amp;n ) ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( m == <span class="number">1</span> )&#123;</span><br><span class="line">m = <span class="number">2</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果没有这段if，那当m为1的时候，下列程序就会把1当素数 </span></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = m ; i &lt;= n ; i++ )&#123;</span><br><span class="line"><span class="keyword">int</span> isPrime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> k ;</span><br><span class="line"><span class="keyword">for</span>( k = <span class="number">2</span> ; k &lt; i - <span class="number">1</span> ; k++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( i % k == <span class="number">0</span> )&#123;</span><br><span class="line">isPrime = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>( isPrime == <span class="number">1</span> )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">count++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;count = %d sum = %d&quot;</span>,count , sum ) ;</span><br></pre></td></tr></table></figure><p>　　对于里面判断素数的循环，功能是非常单一的——就是判断循环。对于这种功能单一的代码，可以做成一个函数（function），那样既可以让程序变得简洁，也提高了可读性。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Ret</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> isPrime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> k ;</span><br><span class="line"><span class="keyword">for</span>( k = <span class="number">2</span> ; k &lt; i<span class="number">-1</span> ; k++)&#123;</span><br><span class="line"><span class="keyword">if</span>( i % k == <span class="number">0</span> )&#123;</span><br><span class="line">isPrime = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> isPrime ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m , n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span> , &amp;m , &amp;n ) ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( m == <span class="number">1</span> )&#123;</span><br><span class="line">m = <span class="number">2</span> ;</span><br><span class="line">&#125;<span class="comment">//如果没有这段if，那当m为1的时候，下列程序就会把1当素数 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span>( i = m ; i &lt;= n ; i++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( Ret(i) == <span class="number">1</span> )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">count++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;count = %d sum = %d&quot;</span>,count , sum ) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　### <Font Color = DarkCyan size = 4 Face = 仿宋><strong>多次求和</strong></font></p><p>　　求出1<del>10、20</del>30、35~45 的三个和</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i , sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">1</span> , sum = <span class="number">0</span> ; i &lt;= <span class="number">10</span> ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , sum );</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">20</span> , sum = <span class="number">0</span> ; i &lt;= <span class="number">30</span>; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , sum );</span><br><span class="line"><span class="keyword">for</span>( i = <span class="number">35</span> , sum = <span class="number">0</span> ; i &lt;= <span class="number">45</span> ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , sum );</span><br></pre></td></tr></table></figure><p>　　这三段是几乎一模一样的。<br>　　Code Duplication，“代码复制”是程序质量不良的表现：<br>　　1、如果将来要做修改维护的时候，会使得维护的地方变得很多。<br>　　2、使代码特别冗长。</p><p>　　对于这种需要重复使用到的“功能function”，不如做成求和函数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="函数的定义与使用"><a href="#函数的定义与使用" class="headerlink" title="函数的定义与使用"></a><FONT COLOR = Cyan>函数的定义与使用</font></h2><p>　　函数是一块代码，接受零个或多个参数，做一件事情，并返回零个或一个值。</p><h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>定义函数</strong></font></h3><p>　　以下列代码为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　<FONT COLOR = LimeGreen>　<code>void sum(int begin , int end )</code>称为函数头；<br>　　<code>void</code>是返回类型（空类型，不返回结果）；<br>　　<code>sum</code>是函数名；<br>　　<code>(int begin , int end )</code>是参数表。<br>　　<br>大括号里面的称为函数体，大括号是必须的。</font></p><h3 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>调用函数</strong></font></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">sum(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">sum(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">sum(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　调用函数时，要首先给出：函数名（参数值）。该函数有多少个参数，就需要传递多少个参数，而且要传递正确的数据类型、给出正确的数量和顺序。这些值会被按照顺序依次用来初始化函数中的参数。<br>　　如果调用的参数少了，或者小括号里没有逗号，就会出现以下错误：</p><blockquote><p>error: too few arguments to function</p></blockquote><p>　　<FONT COLOR = LimeGreen>函数名后的 ( ) 非常重要</font>，这个小括号起到了表示函数调用的重要作用，即使没有参数也需要有小括号。<br>　　比如说：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheers</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;干杯&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">cheers() ; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　但是如果没有这个小括号，就会报错（有的编译器不会报错，但此时也不会调用函数）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheers</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;干杯&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">cheers ; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>warning: expression result unused cheer ;</p></blockquote><h2 id="Return"><a href="#Return" class="headerlink" title="Return"></a><FONT COLOR = Cyan>Return</font></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Ret</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> isPrime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> k ;</span><br><span class="line"><span class="keyword">for</span>( k = <span class="number">2</span> ; k &lt; i<span class="number">-1</span> ; k++)&#123;</span><br><span class="line"><span class="keyword">if</span>( i % k == <span class="number">0</span> )&#123;</span><br><span class="line">isPrime = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> isPrime ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个函数用来判断素数，最后会返回一个值：isPrime。这个返回的结果，最后会返回给调用它的地方。这个函数 Ret 的类型是 int ，所以有一个返回的int的结果。</p><p>　　return 表示停止函数的执行，并且返回一个函数值。return 有两种写法：<br>　　<code>return ;</code>直接结束<br>　　<code>return 表达式</code>把这个值交给函数调用它的地方</p><p>　　比如上段代码，函数运行之后，return 会使得 isPrime 有一个值。后面程序在调用函数的时候，就会把这个值作为运算结果。<Font Size = 2>（讲起来有点绕，后面再看看其他资料）</font></p><p>　　一个函数里可以出现多个return。但是如果一个函数里去使用多个return的话，那么这个函数就会有多个出口，不符合<FONT COLOR = LimeGreen>单一出口原则</font>。</p><p>　　函数的返回值可以赋值给变量、可以再传递给函数、甚至可以丢掉</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MAX</span><span class="params">( <span class="keyword">int</span> a , <span class="keyword">int</span> b )</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> max ;</span><br><span class="line"><span class="keyword">if</span>( a &gt; b )&#123;</span><br><span class="line">max = a ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">max = b ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max ;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span>, c ;</span><br><span class="line">c = MAX( <span class="number">10</span> , <span class="number">12</span> ) ;</span><br><span class="line">c = MAX( a , b ) ;</span><br><span class="line">c = MAX( c , <span class="number">23</span> ) ;</span><br><span class="line">c = MAX( MAX( c , a ) , <span class="number">5</span> ) ;</span><br><span class="line">MAX(<span class="number">12</span>,<span class="number">34</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , MAX(a,b)) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　上述所有写法都是对的，其中所有 MAX 的值，都是函数最后 return 得到的值。<br>　　其中这个<code>MAX(12,34)</code>做了一次调用，但是没有把值交给任何人，就是把函数运行的结果丢掉了。——有时候调用函数的目的并不是要看函数返回的结果，而是要函数的副作用（比如输出一个什么东西）</p><h2 id="无返回值的函数"><a href="#无返回值的函数" class="headerlink" title="无返回值的函数"></a><FONT COLOR = Cyan>无返回值的函数</font></h2><p>　　如果我们需要一个没有返回值的函数，以以下代码为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>void 函数名(参数表)</font></p><p>　　不能使用带值得 return ，如果使用了，会出现以下错误：</p><blockquote><p>[Warning] ‘return’ with a value, in function returning void [enabled by default]</p></blockquote><p>　　可以没有 return ，到函数最后一行，函数自动结束。</p><p>　　调用的时候不能做返回值得赋值。此时 SUM 不会返回值，比如以下程序：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,SUM) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,SUM) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,SUM) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时的<code>SUM(1,10) </code>就是不需要SUM的值，只需要他的副作用——输出一个和。此时SUM的值如下：</p><p><img src="https://www.hualigs.cn/image/605e9f1b1cb95.jpg"></p><h1 id="函数的参数和变量"><a href="#函数的参数和变量" class="headerlink" title="函数的参数和变量"></a><FONT COLOR = SpringGreen>函数的参数和变量</font></h1><h2 id="函数原型"><a href="#函数原型" class="headerlink" title="函数原型"></a><FONT COLOR = Cyan>函数原型</font></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　C的编译器是自上而下分析代码。所以要把函数的定义像这样写在程序的最开始。<br>　　在看到<code>SUM(1,10) ;</code>的时候，程序需要知道 <code>SUM( )</code> 的样子——<FONT COLOR = LimeGreen>函数的名字、函数需要几个参数，每个参数的类型、返回什么类型</font>。这样编译器才能检查程序对 <code>SUM()</code>的调用是否正确。</p><p>　　如果不这样会发生什么？把要调用的函数放在 <code>main()</code>的下面试一试：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ; <span class="comment">//int SUM(int,int)</span></span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>会出现以下错误：</p><blockquote><p>[Warning] conflicting types for ‘SUM’ [enabled by default]<br>[Note] previous implicit declaration of ‘SUM’ was here</p></blockquote><p>　　<FONT COLOR = LimeGreen>特别注意，不同编译器对C语言的要求都不同，有的严格有的宽松，具体报错的信息不一定相同</font><br>　　conflicting types 意思是类型冲突。</p><p>　　对于C99以前的标准，程序读到<code>SUM(1,10) ;</code>时，发现此时没有定义 <code>SUM()</code>这个函数，程序会去猜 <code>SUM()</code>的情况，会去假设<code>SUM()</code>里的类型是两个int，并且会返回一个 int 值：<code>int SUM(int,int)</code>。这种做法叫做隐式声明，C99以后就不用了。</p><blockquote><p>warning: implicit declaration of function ‘SUM’ is invalid in C99</p></blockquote><p>　　那么当程序读到<code>SUM(1,10) ;</code>时候，程序会猜这个函数是<code>int SUM(int,int)</code>，但后面对函数定义的时候，又定义其为<code>void SUM(int, int)</code>，所以后面程序会 warning： conflicting types </p><p>　　在实际的工程项目中，很多时候都希望第一眼能看到<code>main()</code>的样子，而不是一大堆函数的定义。所以就有了<FONT COLOR = LimeGreen>原型声明——把函数头+分号放到程序最开头。</font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span> </span>; <span class="comment">//原型声明</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123; <span class="comment">//函数定义</span></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　程序看到原型声明后，会先记住函数的样子，然后遇到<code>main</code>里面的函数调用的时候，会先采取原型声明里面的定义，最后读到下面函数定义的时候，再一次检查函数调用是否正确。</p><p>　　如果原型和定义冲突怎么办？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span> </span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　和上面隐式声明一样，出现类型冲突的错误：</p><blockquote><p>[Error] conflicting types for ‘SUM’<br>[Note] previous declaration of ‘SUM’ was here</p></blockquote><p>　　<FONT COLOR = LimeGreen>函数原型</font><br>　　<code>函数头；</code>函数头以分号结尾就构成了函数原型<br>　　函数原型的目的是告诉编译器这个函数长什么样：<br>　　名称；<br>　　参数数量以及参数类型<br>　　返回类型</p><p>　　函数原型的主要目的是告诉编译器函数长什么样，所以对待具体参数的变量名不做检查和要求：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span> </span>; <span class="comment">//原型声明</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">SUM(<span class="number">1</span>,<span class="number">10</span>) ;</span><br><span class="line">SUM(<span class="number">20</span>,<span class="number">30</span>) ;</span><br><span class="line">SUM(<span class="number">35</span>,<span class="number">45</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SUM</span><span class="params">(<span class="keyword">int</span> begin , <span class="keyword">int</span> end )</span></span>&#123; <span class="comment">//函数定义</span></span><br><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( i = begin ; i &lt;= end ; i++ )&#123;</span><br><span class="line">sum = sum + i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d ~ %d 的和是%d\n&quot;</span>,begin,end,sum) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时原型声明可以写成：<br>　　<code>void SUM(int, int) ; </code><br>　　<code>void SUM(int a , int b ) ;</code><br>　　都可以，没有关系，因为编译器在原型声明检查的时候不会检查参数名称，只会检查函数名称、返回类型、参数数量和类型。但为了阅读起来方便，最好是直接把函数头复制过来加分号会好一点，因为要方便人去阅读和修改。</p><h2 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a><FONT COLOR = Cyan>参数传递</font></h2><p>　　如果函数有参数，调用函数时必须传递给它数量、类型正确的值。可以传递给函数的值是表达式的结果，包括：字面量、变量、函数的返回值、计算结果。如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">MAX</span><span class="params">( <span class="keyword">int</span> a , <span class="keyword">int</span> b )</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> max ;</span><br><span class="line"><span class="keyword">if</span>( a &gt; b )&#123;</span><br><span class="line">max = a ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">max = b ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max ;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span>, c ;</span><br><span class="line">c = MAX( <span class="number">10</span> , <span class="number">12</span> ) ;<span class="comment">//字面量</span></span><br><span class="line">c = MAX( a , b ) ;<span class="comment">//变量</span></span><br><span class="line">c = MAX( c+<span class="number">3</span> , <span class="number">23</span> ) ;<span class="comment">//计算的结果</span></span><br><span class="line">c = MAX( MAX( c , a ) , <span class="number">5</span> ) ;<span class="comment">//函数返回值</span></span><br><span class="line">MAX(<span class="number">12</span>,<span class="number">34</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span> , MAX(a,b)) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这是因为C语言对于表达式的定义非常宽，单一的字面量、单一的变量、进行计算的结果、赋值全部都是表达式。函数调用本身、函数调用结果，全部都是表达式。</p><h3 id="类型不匹配"><a href="#类型不匹配" class="headerlink" title="类型不匹配"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>类型不匹配</strong></font></h3><p>　　如果参数传递类型不匹配会怎么样？<br>　　<FONT COLOR = LimeGreen>调用函数时给的值与参数的类型不匹配是C语言传统上最大的漏洞。<br>　　编译器总是悄悄替你把类型转换好，但是这可能不是你所期望的。<br>　　后续的语言，C++/Java 在这方面要求非常严格。</font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheer</span><span class="params">( <span class="keyword">int</span> i )</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cheers %d\n&quot;</span>, i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">void</span> )</span></span>&#123;</span><br><span class="line">cheer(<span class="number">1</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个程序就是非常简单的函数定义以及函数调用，如果调用时参数传递类型不匹配怎么办？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheer</span><span class="params">( <span class="keyword">int</span> i )</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cheers %d\n&quot;</span>, i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">void</span> )</span></span>&#123;</span><br><span class="line">cheer(<span class="number">1.1</span>) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时程序实际上是出错了，因为<code>cheer()</code>函数要求参数是整型，而调用时的参数是浮点数。此时编译会有两种情况：<br>　　情况1：编译器给出warning，编译器在执行过程中，故意把double型的1.1转化为了整型的1。</p><blockquote><p>warning: implicit conversion from ‘double’ to ‘int’ change value form 1.1 to 1</p><p>此处出现了一个隐含的转化，从 double 转化为 int。</p></blockquote><p>　　情况2：编译器连 warning 都没有，直接通过了编译。</p><p>　　对于绝大多数编译器，以下写法不会出现 warning。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheer</span><span class="params">( <span class="keyword">int</span> i )</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;cheers %d\n&quot;</span>, i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">void</span> )</span></span>&#123;</span><br><span class="line"><span class="keyword">double</span> f = <span class="number">1.1</span> ;</span><br><span class="line">cheer(f) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　C语言做不到类型匹配的自动检查！！！</p><h3 id="传值"><a href="#传值" class="headerlink" title="传值"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>传值</strong></font></h3><p>　　能不能写一个交换 a b 值的函数？试试看：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="comment">//printf(&quot;%d&quot;,exchange(a,b)) ;</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这样的代码可以交换 a 和 b 的值吗？答案是不能的。可以用调试查看一下各个变量的值：</p><p><a href="https://imgtu.com/i/6z6nET"><img src="https://z3.ax1x.com/2021/03/27/6z6nET.png" alt="6z6nET.png"></a></p><p>　　这里可以看出来，当程序运行到 <code>exchange()</code>函数里面的时候，变量 a ，b 的状态都是</p><blockquote><p>Not found in current context。</p><p>在当前上下文找不到</p></blockquote><p>　　也就是说，当程序运行到  <code>exchange()</code>函数里面的时候，变量 a b 都是不存在的。同理，当程序运行到<code>main()</code>函数里面的时候，x y t 也都是不存在的：</p><p><a href="https://imgtu.com/i/6z67q0"><img src="https://z3.ax1x.com/2021/03/27/6z67q0.png" alt="6z67q0.png"></a></p><p>　　尝试一下查看<code>exchange( a , b ) ;</code>的值，看清楚这一步到底是干什么的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> a , <span class="keyword">int</span> b )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;exchange(a,b)=%d\n&quot;</span>,exchange(a,b)) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> a , <span class="keyword">int</span> b )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = a ;</span><br><span class="line">a = b ;</span><br><span class="line">b = t ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://www.hualigs.cn/image/605f014f01a82.jpg"></p><p>　　可以看出来，<code>exchange( a , b ) ;</code>实际上是进入exchange函数，然后返回 exchange 的值，对于第一段代码<code>void exchange( int a , int b ) ; </code>此时 exchange 不返回值，对于第二段代码<code>int exchange( int a , int b ) ; </code>返回的就是 return 的值。<br>　　除此之外，<code>exchange( a , b ) ;</code>并不能实际上改变 a 和 b 的值。<br>　　所以这样的函数不能交换 a 和 b 的值。</p><p>　　每个函数都有自己的变量空间，参数也位于这个独立的空间中，和其他函数没有关系。<br><FONT COLOR = LimeGreen>　　函数和<code>main</code>的关系是参数和值得关系，C语言在调用函数的时候，永远只能传值给函数。</font></p><h2 id="本地变量"><a href="#本地变量" class="headerlink" title="本地变量"></a><FONT COLOR = Cyan>本地变量</font></h2><p>　　Local variables 也翻译成局部变量。<br>　　函数的每一次运行就会产生一个独立的变量空间，在这个空间中的变量是函数的这次运行所独有的，称作本地变量。<br>　　所有定义在函数内部的变量就是本地变量。<br>　　参数也是本地变量。</p><h3 id="生存期和作用域"><a href="#生存期和作用域" class="headerlink" title="生存期和作用域"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>生存期和作用域</strong></font></h3><p>　　生存期：什么时候变量开始出现，到什么时候变量消亡。<br>　　作用域：在代码的什么范围内可以访问这个变量（这个变量可以起作用的领域）<br>　　对于本地变量，这两个答案是统一的：<FONT COLOR = LimeGreen>大括号——块</font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　当程序运行在<code>main()</code>里面时，t x y 是不存在的：<code>Not found in current context</code>。当程序运行在<code>exchange()</code>里面时，a b也是不存在的，<code>Not found in current context</code>。</p><h3 id="本地变量规则"><a href="#本地变量规则" class="headerlink" title="本地变量规则"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>本地变量规则</strong></font></h3><p>　　<FONT COLOR = LimeGreen>本地变量是定义在块（一组大括号）内的</font><br>　　这个块可以使函数的块，也可以是语句的块，甚至可以随便拉一对大括号来定义变量。比如下面的 if 语句块里面对 i 定义：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="keyword">if</span>( a &lt; b )&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span> ;<span class="comment">//这个i生存期和作用域就在这个块里面，离开这个块，i就不存在了。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个 i 的生存期和作用域都在 if 控制的这个块里面，所以每次进入<code>main()</code>，这个 i 都不一定存在（因为 if 不一定执行）。如果此时想要在 if 块外面使用 i ，如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>( a &lt; b )&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span> ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;<span class="comment">//在i的生存期和作用域之外使用它</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　报错：</p><blockquote><p>[Error] ‘i’ undeclared (first use in this function)<br>[Note] each undeclared identifier is reported only once for each function it appears in</p></blockquote><p>　　<FONT COLOR = LimeGreen>程序运行进入这个块之前，其中的变量不存在，离开这个块，其中变量就消失了</font></p><p>　　对上面程序进行调试就可以知道，进入 if 的时候 i 是存在的，出大括号后 i 就是<code>Notfound in current context</code>。</p><p>　　<FONT COLOR = LimeGreen>在块外面定义的变量在块里面任然有效。</font>里面定义的变量出来就不存在了。</p><p>　　同样对上面程序进行调试，在 if 所控制的块里面， a 和 b 都是可以读到的。</p><p>　　<FONT COLOR = LimeGreen>若块里面定义了和外面同名的变量，则里面的变量会掩盖外面的变量。</font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>,a) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　其中输出的值为：</p><p><a href="https://imgtu.com/i/cSKYCQ"><img src="https://z3.ax1x.com/2021/03/27/cSKYCQ.png" alt="cSKYCQ.png"></a></p><p>　　可以看出来在 if 控制的块里面，a 的值覆盖了外面 a 的值。但是出来之后，里面的 a 不存在了，a 又回到了初始的状态。</p><p>　　不是所有的编程语言都是这么干的！！！</p><p>　　<FONT COLOR = LimeGreen>不能再一个块里面定义同名的变量</font></p><blockquote><p>[Error] redefinition of ‘a’<br>[Note] previous definition of ‘a’ was here</p></blockquote><p>　　<FONT COLOR = LimeGreen>本地变量不会被默认初始化</font></p><p>　　<FONT COLOR = LimeGreen>参数在进入函数的时候会被初始化</font></p><h2 id="函数庶事"><a href="#函数庶事" class="headerlink" title="函数庶事"></a><FONT COLOR = Cyan>函数庶事</font></h2><h3 id="没有参数时"><a href="#没有参数时" class="headerlink" title="没有参数时"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>没有参数时</strong></font></h3><p>　　<code>void f(void)</code>还是<code>void f()</code><br>　　<code>void f(void)</code>明确告诉编译器，f 函数不接受任何参数。在传统的C中，<code>void f()</code>表示 f 函数的参数未知，并不表示没有参数；现在编译器如何处理呢？尝试一下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">()</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;<span class="comment">//到这一行的时候，编译器猜测exchange需要两个int型参数</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">int</span> x , <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　此时编译通过。编译器理解为，遇到函数原型时，知道有一个函数 <code>void exchange</code>，但不太确定他的参数个数和参数类型。于是编译器根据下面，猜想为双变量，int 型。<br>　　如果此时编译器猜错了呢？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">()</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;in main , a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">double</span> x , <span class="keyword">double</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;in exchange,a=%f,b=%f\n&quot;</span>,x,y) ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这段程序通过编译了！<br>　　此时程序输出：<br>　　in exchange ， a = 0.000000，b = 0.000000<br>　　in main ，a = 5 b = 6。<br>　　可以看出来，虽然编译器在语法上没有发现这段程序出错，但实际上程序第一次运行到<code>exchange( a , b ) ;</code>时，是认为 exchange 是 int 型。等到运行完下面的函数部分，第二次运行到<code>exchange( a , b )</code>时，把两个整型的量交给<code>exchange</code>，此时就出错了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">(<span class="keyword">double</span> x , <span class="keyword">double</span> y )</span> </span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">6</span> ;</span><br><span class="line">exchange( a , b ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;in main , a=%d b=%d\n&quot;</span>,a,b) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">( <span class="keyword">double</span> x , <span class="keyword">double</span> y )</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = x ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;in exchange,a=%f,b=%f\n&quot;</span>,x,y) ;</span><br><span class="line">x = y ;</span><br><span class="line">y = t ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　但是这种写法就是正确的，此时虽然也是把两个整型交给 exchange 。但是一开始原型声明就正确了，使得后面整型变量会自动转化为 double 型。</p><p>　　<FONT COLOR = LimeGreen>所以，不要这么些函数原型<code>void f()</code></font></p><h3 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>逗号运算符</strong></font></h3><p>　　在C语言里，逗号也是一种运算符，比如<code>(a,b)</code>，此时右边的 b 就是其运算的结果。那么调用函数时的逗号和逗号运算符如何区分？<br>　　<code>F(a,b)</code>调用函数时，小括号的逗号是标点符号，不是运算符。<br>　　<code>F((a,b))</code>此时逗号是运算符，此时函数的参数只有1个，</p><h3 id="不可嵌套定义函数"><a href="#不可嵌套定义函数" class="headerlink" title="不可嵌套定义函数"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>不可嵌套定义函数</strong></font></h3><p>　　C语言里不允许函数的嵌套定义，也就是说函数内部不能再定义函数。可以放函数的声明，但不能放函数体（body）</p><h3 id="糟糕的写法"><a href="#糟糕的写法" class="headerlink" title="糟糕的写法"></a><Font Color = DarkCyan size = 4 Face = 仿宋><strong>糟糕的写法</strong></font></h3><p>　　<code>int i , j , sum( int a , int b )</code>这种写法等同于<code>int i , j ; int sum( int a , int b )</code>不推荐这种写法，不利于阅读。<br>　　<code>return（i）</code>这个 (i) 可有可无，但这会让人误解 return 是一个函数。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;函数&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 06 Data Type</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/06/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2006%20Data%20Type/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/06/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2006%20Data%20Type/</id>
    <published>2021-03-06T13:59:47.000Z</published>
    <updated>2021-03-29T05:39:57.556Z</updated>
    
    <content type="html"><![CDATA[<p>数据类型</p><a id="more"></a><h1 id="逻辑类型和运算"><a href="#逻辑类型和运算" class="headerlink" title="逻辑类型和运算"></a><FONT COLOR = SpringGreen>逻辑类型和运算</font></h1><h2 id="逻辑类型"><a href="#逻辑类型" class="headerlink" title="逻辑类型"></a><FONT COLOR = Cyan>逻辑类型</font></h2><p>　　抬头加入<code>#include&lt;stdbool.h&gt;</code>之后，就可以使用 bool、true、 false。</p><h2 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a><FONT COLOR = Cyan>逻辑运算</font></h2><p>　　逻辑运算是对逻辑进行的运算，结果只有0、1。<br>　　！——逻辑非——！a——如果 a 是true，则结果是false；如果 a 是false，则结果是true。<br>　　&amp;&amp;——逻辑与——a&amp;&amp;b——如果 a 和 b 都是true，则结果是true；否则结果是false。<br>　　||——逻辑或——a||b——如果 a 和 b 至少有一个是true，则结果是true；如果 a 和 b 两个都是false，则结果是false。</p><p>　　有了逻辑运算后，就可以非常方便地表示数学里面的区间：<br>　　如果要表示数学中的区间，如：x∈(4，6)，有人会习惯性地写成4&lt;x&lt;6；但这样实际上是首先算4&lt;x，答案是0或者1，然后判断1&lt;6。正确的做法是<code>x &gt; 4 &amp;&amp; x &lt; 6</code>。<br>　　<code>a &gt; 20 &amp;&amp; a &lt; 30</code> 意思是20 &lt; a &lt; 30。<br>　　<code>a &lt; 0 || a &gt; 99</code> 意思是 a＜0 或者 a＞99。<br>　　<code>!a &lt; 20</code> <FONT COLOR = LimeGreen>注意，！是单目运算符，所以！的优先级要比＜要高。</font>因此这句话 ！a 会先做。如果 a 是 0 ，则！a 会变成1，然后和 20 作比较。如果 a 不是 0，则 ！a 会变成0，然后和 20 作比较。所以整个表达式永远都是1。如果非要表示 a 不小于 20 ，应该用括号：<code>!( a &lt; 20)</code></p><p>　　也可以通过逻辑运算很简单地判断一个字符 c 是否是大写字母：<br>　　<code>c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;</code></p><p><FONT COLOR = PowderBlue size = 4><strong>优先级</strong></font></p><p>　　逻辑运算优先级，单目的非！最高，其次是与&amp;&amp;，最后是或 ||。详情见《第二周 计算》中的表格。</p><h2 id="短路"><a href="#短路" class="headerlink" title="短路"></a><FONT COLOR = Cyan>短路</font></h2><p>　　逻辑运算是从左往右进行的，如果左边的结果已经能够决定最终结果了的话，就不会做右边的计算。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">5</span> , b = <span class="number">0</span> ;</span><br><span class="line">a == <span class="number">6</span> &amp;&amp; (b += <span class="number">1</span>)  ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,b) ;</span><br></pre></td></tr></table></figure><p>　　这里“与”的左边是判断 a 是否等于6。对于“与”来说，当左边是 false 的时候，右边的计算就没必要进行下去了。所以此时 b 的值任然是 0 。</p><p>　　<FONT COLOR = LimeGreen>对于&amp;&amp;，左边是 false 时就不做右边了。对于 ||，左边是 true 时就不做右边了。</font><br>　　<FONT COLOR = LimeGreen>所以，千万不要把赋值，以及复合赋值的组合写进表达式。</font></p><h2 id="条件运算"><a href="#条件运算" class="headerlink" title="条件运算"></a><FONT COLOR = Cyan>条件运算</font></h2><p>　　<code>count = ( count &gt; 20 ) ? count - 10 : count + 10</code><br>　　类似于这种代码，问号之前的是条件，问号之后是条件满足的值，冒号之后是条件不满足的值。等价于一下代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( count &gt; <span class="number">20</span> )&#123;</span><br><span class="line">count = count - <span class="number">10</span> ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">count = count + <span class="number">10</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这种条件运算会带来阅读上的麻烦。表面上会使程序变得简洁，但实际上很容易出错。<br>　　条件运算符的优先级高于赋值运算符，但是低于其他运算符。于是就可以有如下几种写法：</p><p>　　<code>m &lt; n ? x : a + 5</code>，如果 m &lt; n 的话，值是 x ，否则的话值是 a + 5。<br>　　<code>a++ &gt;= 1 &amp;&amp; b-- &gt; 2 ? a : b</code>，如果 a++ 的结果大于等于1<Font Size = 2><em>（此时a = 1 满足条件，a=0不满足条件）</em></font>，并且 b– 的结果大于<Font Size = 2><em>（此时 b = 3 满足条件）</em></font>；则结果是 a ，否则是 b 。</p><h2 id="逗号运算"><a href="#逗号运算" class="headerlink" title="逗号运算"></a><FONT COLOR = Cyan>逗号运算</font></h2><p>　　逗号用来连接两个表达式，并且以右边的表达式的值作为它的结果。逗号的优先级是所有运算符中最低的（低于赋值），所以它两边的表达式会先计算，逗号的组合关系是自左向右，所以左边的表达式会先计算，而右边的表达式的值就留下来作为逗号运算的结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line">i = ( <span class="number">3</span>+<span class="number">4</span> , <span class="number">5</span>+<span class="number">6</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i) ;</span><br></pre></td></tr></table></figure><p>　　此时输出 i 的结果是11。<br>　　逗号运算主要用在 for 循环中，比如：<br>　　<code>for ( i = 0 , j = 10 ; i &lt; j ; i++ , j--)</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i , j ;</span><br><span class="line"><span class="keyword">for</span> ( i = <span class="number">0</span> , j = <span class="number">10</span> ; i &lt; j ; i++ , j--)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;i=%d,j=%d\n&quot;</span>,i,j) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;out loop i=%d,j=%d\n&quot;</span>,i,j) ;</span><br></pre></td></tr></table></figure><p>　　<a href="https://imgtu.com/i/cSGJeA"><img src="https://z3.ax1x.com/2021/03/27/cSGJeA.png" alt="cSGJeA.png"></a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;数据类型&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 05 Loop I</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/05/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2005%20Loop%20II/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/05/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2005%20Loop%20II/</id>
    <published>2021-03-05T13:59:47.000Z</published>
    <updated>2021-03-29T05:39:48.358Z</updated>
    
    <content type="html"><![CDATA[<p>循环（下）</p><a id="more"></a><h1 id="循环控制-break-amp-continue"><a href="#循环控制-break-amp-continue" class="headerlink" title="循环控制:break &amp; continue"></a><FONT COLOR = SpringGreen>循环控制:break &amp; continue</font></h1><h2 id="判断素数"><a href="#判断素数" class="headerlink" title="判断素数"></a><FONT COLOR = Cyan>判断素数</font></h2><p>　　只能被1和自己整除的数就是素数，1不是素数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , i = <span class="number">2</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt; x ; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;不是素数\n&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;是素数\n&quot;</span>) ;</span><br></pre></td></tr></table></figure><p>　　如果代码是这么写，如果输入素数，则结果是正常的；如果输入合数，则结果就不正常。那么对于这种循环的控制，可以考虑引入一个新的变量。<br>　　定义一个新的变量 Prime，初始值为1，然后只要 <code>x % i == 0</code>成立一次，那么 Prime 为0，最后判断 Prime 的值来判断素数还是合数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , i = <span class="number">2</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">int</span> Prime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt; x ; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">Prime = <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>( Prime == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;是合数\n&quot;</span>) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;是素数\n&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这里引入一个变量，来判断循环是否进入过 if ，从而对循环发起控制。</p><p>　　<FONT COLOR = LimeGreen>特别注意的是 break ，break 指跳出当前的循环。</font><br>　　如果没有这个 break，程序要跑一个比较大的数，比如199988，其实进入循环的第一轮就已经确定是合数了。但因为没有break，所以程序要一直跑到 i = 199987，要多跑很多轮。<br>　　如果这里加一个 break，程序第一轮就可以出来了，极大地提高了程序的运行效率。</p><p>　　和 break 相对的还有 continue。<FONT COLOR = LimeGreen>continue：跳过循环这一轮剩下语句，直接进入下一轮。</font><br>　　比如上述判断素数的题目中，可以利用 continue 求出所有的非因子（实在不知道如何表述这些东西）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , i = <span class="number">2</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">int</span> Prime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt; x ; i++)&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">Prime = <span class="number">0</span> ;</span><br><span class="line">        <span class="keyword">continue</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　因为这个 continue 的存在，所以当程序进入 if ，执行 continue 的时候，下面的 printf 就不会执行了。</p><p><img src="https://ae01.alicdn.com/kf/U5715dd804e49409f95a0e002a76f73d7i.jpg"></p><p>　　break，continue 都只能对本层循环做。</p><h1 id="多重循环"><a href="#多重循环" class="headerlink" title="多重循环"></a><FONT COLOR = SpringGreen>多重循环</font></h1><h2 id="嵌套循环"><a href="#嵌套循环" class="headerlink" title="嵌套循环"></a><FONT COLOR = Cyan>嵌套循环</font></h2><h3 id="100以内的素数"><a href="#100以内的素数" class="headerlink" title="100以内的素数"></a><FONT COLOR = PowderBlue size = 4>100以内的素数</font></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">2</span> ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">2</span> ;</span><br><span class="line"><span class="keyword">int</span> Prime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">while</span>( x &lt; <span class="number">100</span> )&#123;</span><br><span class="line"><span class="keyword">while</span>( i &lt; x )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">Prime = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>( Prime == <span class="number">1</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,x) ;</span><br><span class="line">&#125;</span><br><span class="line">Prime = <span class="number">1</span> ;</span><br><span class="line">i = <span class="number">2</span> ;</span><br><span class="line">x++ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　循环里面还有循环就是嵌套循环。</p><h3 id="前50个素数"><a href="#前50个素数" class="headerlink" title="前50个素数"></a><FONT COLOR = PowderBlue size = 4>前50个素数</font></h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">2</span> ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">2</span> ;</span><br><span class="line"><span class="keyword">int</span> Prime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">while</span>( count &lt; <span class="number">50</span> )&#123;</span><br><span class="line"><span class="keyword">while</span>( i &lt; x )&#123;</span><br><span class="line"><span class="keyword">if</span>( x % i == <span class="number">0</span>)&#123;</span><br><span class="line">Prime = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>( Prime == <span class="number">1</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,x) ;</span><br><span class="line">count++ ;</span><br><span class="line">&#125;</span><br><span class="line">Prime = <span class="number">1</span> ;</span><br><span class="line">i = <span class="number">2</span> ;</span><br><span class="line">x++ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　基本的思路和上一段代码一模一样，只不过多加了一个变量 count 用来计数，每成功输出一次 count 自加1。然后循环条件由 x &lt; 100 变成了 count == 50。 </p><h2 id="跳出循环"><a href="#跳出循环" class="headerlink" title="跳出循环"></a><FONT COLOR = Cyan>跳出循环</font></h2><h3 id="凑硬币"><a href="#凑硬币" class="headerlink" title="凑硬币"></a><FONT COLOR = PowderBlue >凑硬币</font></h3><p>　　如何用一角、两角、五角的硬币凑出10元以下金额？主要思路是利用 for 循环，对一角、两角、五角全都遍历一遍：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> one , two , five ;</span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">for</span>( one = <span class="number">0</span> ; one &lt;= x * <span class="number">10</span> ; one++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( two = <span class="number">0</span> ; two &lt;= x * <span class="number">10</span> / <span class="number">2</span>  ; two++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( five = <span class="number">0</span> ; five &lt;= x * <span class="number">10</span> / <span class="number">5</span> ; five++ ) &#123;</span><br><span class="line"><span class="keyword">if</span>(one + two * <span class="number">2</span> + five * <span class="number">5</span> == x * <span class="number">10</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;可以用%d个一角%d个两角%d个五角\n&quot;</span>,one,two,five) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这三个 for 循环的嵌套实际上是对三个变量的遍历，分别是 one 从0到10x；two 从0到5x；five 从0到2x。</p><h3 id="接力break"><a href="#接力break" class="headerlink" title="接力break"></a><FONT COLOR = PowderBlue >接力break</font></h3><p>　　对于凑硬币，如果我们只需要一个结果，即出现一次结果就停，如何是好？如果只用一个break，那只能跳出一层循环，因此我们要多个 break。<FONT COLOR = LimeGreen>即：当满足什么样的条件下，执行 break——引入类似于判断素数 Prime 的变量</font>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> one , two , five ;</span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">int</span> Prime = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( one = <span class="number">0</span> ; one &lt;= x * <span class="number">10</span> ; one++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( two = <span class="number">0</span> ; two &lt;= x * <span class="number">10</span> / <span class="number">2</span>  ; two++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( five = <span class="number">0</span> ; five &lt;= x * <span class="number">10</span> / <span class="number">5</span> ; five++ ) &#123;</span><br><span class="line"><span class="keyword">if</span>(one + two * <span class="number">2</span> + five * <span class="number">5</span> == x * <span class="number">10</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;可以用%d个一角%d个两角%d个五角\n&quot;</span>,one,two,five) ;</span><br><span class="line">Prime = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(Prime) <span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(Prime) <span class="keyword">break</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="goto"><a href="#goto" class="headerlink" title="goto"></a><FONT COLOR = PowderBlue >goto</font></h3><p>　　使用接力 break 会使得程序非常清楚，还有一个办法可以直接跳出所有循环：goto。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> one , two , five ;</span><br><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">for</span>( one = <span class="number">0</span> ; one &lt;= x * <span class="number">10</span> ; one++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( two = <span class="number">0</span> ; two &lt;= x * <span class="number">10</span> / <span class="number">2</span>  ; two++ )&#123;</span><br><span class="line"><span class="keyword">for</span>( five = <span class="number">0</span> ; five &lt;= x * <span class="number">10</span> / <span class="number">5</span> ; five++ ) &#123;</span><br><span class="line"><span class="keyword">if</span>(one + two * <span class="number">2</span> + five * <span class="number">5</span> == x * <span class="number">10</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;可以用%d个一角%d个两角%d个五角\n&quot;</span>,one,two,five) ;</span><br><span class="line"><span class="keyword">goto</span> out ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">out:</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br></pre></td></tr></table></figure><p>　　goto后面接一个标号，程序执行到 goto 时候会直接跳转到标号处。本段代码的标号是 out ，程序执行到 goto 时会直接跳转到 <code>out:</code>后面的那句中，即跳到 <code>return 0 ;</code></p><p>　　goto 会破坏程序的结构性、逻辑性，慎用。尽量仅在多重循环跳转的时候使用。</p><h1 id="循环习题解析"><a href="#循环习题解析" class="headerlink" title="循环习题解析"></a><FONT COLOR = SpringGreen>循环习题解析</font></h1><h2 id="前n项求和"><a href="#前n项求和" class="headerlink" title="前n项求和"></a><FONT COLOR = Cyan>前n项求和</font></h2><p><FONT COLOR = PowderBlue size = 4><strong>调和级数</strong></font><br>$$<br>f(n）=\sum_{i=1}^{n}\frac{1}{i}=1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+…+\frac{1}{n}<br>$$</p><p>像这种起点和终点都非常明确的程序，用 for 循环是最佳选择。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n) ;</span><br><span class="line"><span class="keyword">double</span> fn = <span class="number">0.0</span> ;</span><br><span class="line"><span class="keyword">double</span> i = <span class="number">1.0</span> ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt;= n  ; i++)&#123;</span><br><span class="line">fn = fn + <span class="number">1</span> / i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;f(%d)=%f&quot;</span>,n,fn) ;</span><br></pre></td></tr></table></figure><p><FONT COLOR = PowderBlue size = 4><strong>交错调和级数</strong></font><br>$$<br>g(n）=\sum_{i=1}^{n}(-1)^{n-1}\frac{1}{i}=1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+…+\frac{1}{n}<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"><span class="keyword">double</span> fn = <span class="number">0.0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n) ;</span><br><span class="line"><span class="keyword">double</span> i = <span class="number">1.0</span> ;</span><br><span class="line"><span class="keyword">int</span> sign = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">for</span>( ; i &lt;= n  ; i++)&#123;</span><br><span class="line">fn = fn + sign * <span class="number">1</span> / i ;</span><br><span class="line">sign = -sign ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;f(%d)=%f&quot;</span>,n,fn) ;</span><br></pre></td></tr></table></figure><p>　　这个正负正负正负交错就是用辅助变量 sign 来实现。</p><h2 id="求最大公约数"><a href="#求最大公约数" class="headerlink" title="求最大公约数"></a><FONT COLOR = Cyan>求最大公约数</font></h2><p>给两个数，如何求最大公约数？</p><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a><FONT COLOR = PowderBlue >枚举</font></h3><p>1、输入两个数 a b 。首先判断两个数中最小的是哪个。<br>2、设 t 为2。<br>3、如果 a b 都能被 t 整除，则记下这个 t 。<br>4、t 自加1后重复步骤3，直到 t 等于 min｛a，b｝。<br>5、记下的 t 中最大的就是我们要求的最大公约数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a , b , min ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;a,&amp;b) ;</span><br><span class="line"><span class="keyword">if</span>( a&lt;=b ) &#123;</span><br><span class="line">min = a ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">min = b ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> t = <span class="number">1</span> ; </span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">for</span>( ; t &lt;= min ; t++ )&#123;</span><br><span class="line"><span class="keyword">if</span>( a % t == <span class="number">0</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( b % t == <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span> , t ) ;</span><br><span class="line">ret = t ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;最大公约数是%d&quot;</span>,ret) ;</span><br></pre></td></tr></table></figure><p>　　1、为什么 t 要从1开始？我一开始是让 t 从2开始。从2开始的话，互质的两个数就没办法算公约数了。<br>　　2、ret 的作用就是记录所有的公约数，然后因为 t 是逐步上升的，所以 ret 最后输出的值也一定是最大值。</p><p>　　这种方法很直观，但是缺点是程序要循环很多轮，从1开始，一直到最小的数结束。于是欧几里得发明出更加效率的求最大公约数的算法：欧几里得算法——辗转相除法。</p><h3 id="辗转相除法"><a href="#辗转相除法" class="headerlink" title="辗转相除法"></a><FONT COLOR = PowderBlue >辗转相除法</font></h3><p>　　假如需要求 1997 和 615 两个正整数的最大公约数,用欧几里得算法，是这样进行的：<br>　　1997 / 615 = 3 (余 152)</p><p>　　615 / 152 = 4(余7)</p><p>　　152 / 7 = 21(余5)</p><p>　　7 / 5 = 1 (余2)</p><p>　　5 / 2 = 2 (余1)</p><p>　　2 / 1 = 2 (余0)</p><p>　　至此，最大公约数为1。以除数和余数反复做除法运算，当余数为 0 时，取当前算式除数为最大公约数，所以就得出了 1997 和 615 的最大公约数 1。</p><p>　　<FONT COLOR = LimeGreen>定理</font>：两个整数的最大公约数等于其中较小的那个数和两数相除余数的最大公约数。<br>　　<FONT COLOR = LimeGreen>证明</font>：<br>　　设 a b 两个数，a &gt; b。a 可以表示成 a = k * b + r ，且r&lt;b。显然，r 就是 a / b的余数，k就是商。<br>　　假设 d 是 a、b 的一个公约数，且 r = a - k * b ，所以 d 也是 r 的约数。所以 a、b 与 b 、r 的公约数相等，所以他们的最大公约数也相等。<br>　　<FONT COLOR = LimeGreen>算法</font>：任意两个数a ，b。假设 t 为余数。<br>　　1、如果 b 等于0，则计算结束，a 就是最大公约数。<br>　　2、否则，t = a % b ，并且令 a = b ， b = t 。<br>　　3、回到第一步。<br>　　<FONT COLOR = LimeGreen>算法解析</font>：<br>　　1、如果 a &gt; b 。则第二步的目的就是把 b 的值赋给 a ，把余数赋给 b 。然后开始辗转相除，直到 t == 0，即余数为 0 ，此时再进行一次 第二步，则把 b 的值赋给 a ，把  t 的值赋给 b ，此时 b == 0 ，计算结束。<br>　　2、为什么没有求 min｛a，b｝的步骤，如果 a &lt; b ，经过第二步后，a 和 b会交换值，则 a &gt; b 了。<br>　　3、不妨假设 a = 12 ， b = 18 看看每步的结果：<br>　　　　 a    b    t<br>　　　　12 18 12<br>　　　　18 12  6<br>　　　　12  6   0<br>　　　　6    0   0<br>　　<FONT COLOR = LimeGreen>代码：</font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a , b , t ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a, &amp;b) ;</span><br><span class="line"><span class="keyword">while</span>( b != <span class="number">0</span> )&#123;</span><br><span class="line">t = a % b ;</span><br><span class="line">a = b ;</span><br><span class="line">b = t ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span> (<span class="string">&quot;最大公约数是%d&quot;</span>,a) ;</span><br></pre></td></tr></table></figure><h2 id="整数分解"><a href="#整数分解" class="headerlink" title="整数分解"></a><FONT COLOR = Cyan>整数分解</font></h2><h3 id="逆序分解整数"><a href="#逆序分解整数" class="headerlink" title="逆序分解整数"></a><FONT COLOR = PowderBlue >逆序分解整数</font></h3><p>　　输入一个非负整数。逆序输出它的每一位数字。比如：输入12345，输出5 4 3 2 1。<br>　　算法：<br>　　1、输入x<br>　　2、<FONT COLOR = LimeGreen>x%10，就得到了最后一位数字</font>，输出。<FONT COLOR = LimeGreen>x = x /10 ，去除了最后一位数字</font><br>　　3、x ！= 0 的话，重复步骤2。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">t = x % <span class="number">10</span> ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,t ) ; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这样做的话，是大差不差的，但是还是有两个细节。<br>　　第一个，如果 x 是 0 怎么办，因为题目要求 x 是非负，这段程序当 x = 0 时是不输出任何东西的。<br>　　第二个，题目给的要求里最后一个数字是没有空格的。而我这段程序输出会是5 4 3 2 1 ，1后面有个空格。</p><p>　　解决办法：<br>　　1、改 while 为 do - while ，必须要循环一轮。<br>　　2、加一个判断，每一轮都输出一个空格，除了最后一轮。最后一轮x一定是个位数，根据这个来写程序。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">t = x % <span class="number">10</span> ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,t ) ;</span><br><span class="line"><span class="keyword">if</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125; </span><br><span class="line">&#125;<span class="keyword">while</span>( x &gt; <span class="number">0</span> ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br></pre></td></tr></table></figure><h3 id="正序分解整数"><a href="#正序分解整数" class="headerlink" title="正序分解整数"></a><FONT COLOR = PowderBlue >正序分解整数</font></h3><p>　　输入一个非负整数，正序输出它的每一位数字。比如输入12345，输出1 2 3 4 5 。</p><p><FONT COLOR = LimeGreen>思路一</font>：<br>　　对于一个非负整数，首先把它逆序一遍，然后把它逆序分解，不就成了正序分解？<br>　　如何逆序一个数？算法如下：<br>　　1、引入d，p = 0。<br>　　2、d = x % 10 。这样 d 就取到了 x 的最后一位数。<FONT COLOR = LimeGreen>p = p * 10 + d </font>，x = x / 10 。这样就把 x 的末尾加到了 p 上，且 x 去掉最后一位数。<br>　　3、当 x &gt; 0 时，重复 2 。 </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;x) ;</span><br><span class="line"><span class="keyword">int</span> p = <span class="number">0</span> , d ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">d = x % <span class="number">10</span> ;</span><br><span class="line">p = p * <span class="number">10</span> + d ; </span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">&#125; <span class="keyword">while</span>( x &gt; <span class="number">0</span> ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;逆序的结果是%d\n&quot;</span>,p) ;</span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">t = p % <span class="number">10</span> ;</span><br><span class="line">p = p / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,t) ;</span><br><span class="line"><span class="keyword">if</span>( p &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">while</span>( p &gt; <span class="number">0</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br></pre></td></tr></table></figure><p>　　但这个方法有一个巨大的缺陷：当输入 700，710。等末尾有0的数时，输出会错误，主要原因是逆序的时候会出问题。</p><p>　<FONT COLOR = LimeGreen>思路2：</font><br>　　1、数出输入的数 x 有多少为，比如是5位数，于是构造 mask = 10^(5-1)。<br>　　2、利用 mask 和 x 写出循环，不再是去尾巴，而是去头。</p><p>　　以 5 位数为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">12345</span>;</span><br><span class="line"><span class="keyword">int</span> mask = <span class="number">10000</span> ;</span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">t = x / mask ;<span class="comment">//取出首位 </span></span><br><span class="line">x = x % mask ;<span class="comment">//去掉首位</span></span><br><span class="line">mask = mask / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , t) ;</span><br><span class="line"><span class="keyword">if</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125; </span><br><span class="line">&#125; <span class="keyword">while</span>( x &gt; <span class="number">0</span> ) ;</span><br></pre></td></tr></table></figure><p>　　这段程序有个问题，就是如果输入 x = 700 ，那么 mask = 100 。输出就会变成7。而不是要求的 7 0 0 。<br>　　原因是循环条件有问题，如果输入 700 ，那么循环只会进行一轮，第二轮就结束了，改进：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">700</span> ;</span><br><span class="line"><span class="keyword">int</span> mask = <span class="number">100</span> ;</span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">t = x / mask ;<span class="comment">//取出首位 </span></span><br><span class="line">x = x % mask ;<span class="comment">//去掉首位</span></span><br><span class="line">mask = mask / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , t) ;</span><br><span class="line"><span class="keyword">if</span>( mask &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125; </span><br><span class="line">&#125; <span class="keyword">while</span>( mask &gt; <span class="number">0</span> ) ;</span><br></pre></td></tr></table></figure><p>　　不用 x 作为条件，用 mask 。最后一轮的特点是，x 是个位数，mask 是 1。循环结束后 mask 会变成 0 。 </p><p>　　那么如何得到这个mask呢？或者说，如何计算整数的位数？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , mask = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ; </span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">mask = mask * <span class="number">10</span> ;</span><br><span class="line">&#125;<span class="keyword">while</span>( x &gt; <span class="number">0</span> ) ;</span><br><span class="line">mask = mask / <span class="number">10</span> ; <span class="comment">//这里mask会多走一位，所以这里除以10 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,mask) ;</span><br></pre></td></tr></table></figure><p>　　其实 mask 从0.1开始更好，但这样就会让 mask 变成浮点数。翁老师的做法不是让 mask 最后自除一个零，而是让循环少跑一轮，改变循环的条件：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , mask = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ; </span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">mask = mask * <span class="number">10</span> ;</span><br><span class="line">&#125;<span class="keyword">while</span>( x &gt; <span class="number">9</span> ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,mask) ;</span><br></pre></td></tr></table></figure><p>　　但这样，当 x 是个位数的时候，mask 就会判断错误，所以我还是采取我的办法，即最后让 mask 自除 10 。<br>　　这样数位数的程序就做完了，于是完整的正序分解整数程序如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , mask = <span class="number">1</span> , number ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ; </span><br><span class="line">number = x ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">number = number / <span class="number">10</span> ;</span><br><span class="line">mask = mask * <span class="number">10</span> ;</span><br><span class="line">&#125;<span class="keyword">while</span>( number &gt; <span class="number">0</span> ) ;</span><br><span class="line">mask = mask / <span class="number">10</span> ; <span class="comment">//这里mask会多走一位，所以这里除以10 </span></span><br><span class="line"><span class="comment">//printf(&quot;%d\n&quot;,mask) ;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t ;</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">t = x / mask ;<span class="comment">//取出首位 </span></span><br><span class="line">x = x % mask ;<span class="comment">//去掉首位</span></span><br><span class="line">mask = mask / <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , t) ;</span><br><span class="line"><span class="keyword">if</span>( mask &gt; <span class="number">0</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125; </span><br><span class="line">&#125; <span class="keyword">while</span>( mask &gt; <span class="number">0</span> ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;flag\n&quot;</span>) ;<span class="comment">//这个flag是看看尾巴有没有空格</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;循环（下）&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 04 Loop I</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/04/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2004%20Loop%20I/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/04/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2004%20Loop%20I/</id>
    <published>2021-03-04T13:59:47.000Z</published>
    <updated>2021-03-29T04:01:16.099Z</updated>
    
    <content type="html"><![CDATA[<p>循环（上）</p><a id="more"></a><h1 id="循环"><a href="#循环" class="headerlink" title="循环"></a><FONT COLOR = SpringGreen>循环</font></h1><h2 id="while"><a href="#while" class="headerlink" title="while"></a><FONT COLOR = Cyan>while</font></h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( 循环条件 )&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>　　while循环意思是：当条件满足的时候，不断地重复循环体内的语句。</p><p><a href="https://imgtu.com/i/6JjH6H"><img src="https://s3.ax1x.com/2021/03/10/6JjH6H.jpg" alt="6JjH6H.jpg"></a></p><p>　　以计算数字的位数为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　这个程序有一个不完美的地方，就是当 x = 0 时，没办法正常数数。做题的时候学会写一下基本的算法：<br>1、用户输入 x ；<br>2、初始化 n 为0；<br>3、x = x / 10 ，去掉个位 ；<br>4、n++ ；<br>5、如果 x &gt; 0 ，回到3 ；<br>6、否则 n 就是结果。<br>　　如果是上面那种代码，相当于把第五步放到第二步后面，所以应该改成以下形式：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x ) ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">n++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , n ) ;</span><br></pre></td></tr></table></figure><p>　　其实这个循环就是 do - while 。因为不管是什么数，都要至少数一次，所以用 do - while 比较好。</p><p>　　循环体内一定要有改变条件的机会，不然就会成为死循环，在编译的时候不会出现语法问题，但结果是错的，或者超时。</p><h2 id="do-while"><a href="#do-while" class="headerlink" title="do - while"></a><FONT COLOR = Cyan>do - while</font></h2><p>　　在进入循环的时候不做检查，而是在执行完一轮循环体的代码后，再来检查循环的条件是否满足，如果满足则继续下一轮的循环，不满足则结束循环：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环体语句</span><br><span class="line">&#125;<span class="keyword">while</span>( 循环条件 ) ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>特别注意的是，while() 后面有一个分号。表示一行语句结束的要么是分号，要么是大括号。</font></p><p><a href="https://imgtu.com/i/6JjbXd"><img src="https://s3.ax1x.com/2021/03/10/6JjbXd.jpg" alt="6JjbXd.jpg"></a></p><p>　　while 循环以及 do - while 循环本质是一样的，特别的，判断循环是否继续的条件是一样的。区别是 do -while 无论如何循环体都会至少执行一遍。</p><h2 id="for"><a href="#for" class="headerlink" title=" for "></a><FONT COLOR = Cyan> for </font></h2><p>计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> , i = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= number )&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>这种循环次数很确定的程序很适合用 for 循环来编写：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<code>for( 初始条件 ; 循环继续的条件 ; 循环每轮最后要做的动作)</code><br>　　读成：对于一开始的初始条件，当循环条件成立时，重复做循环体，循环体完毕后，执行循环每轮最后要做的动作，然后判断循环条件。</p><p>　　<code>for( count = 10 ; count &gt; 0 ; count-- )</code><br>　　读成：对于一开始的 count = 10，当 count &gt; 0 时，重复做循环体，循环体完毕后，执行 count – ，然后判断 count &gt; 0 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>( 表达式<span class="number">1</span> ; 表达式<span class="number">2</span> ; 表达式<span class="number">3</span>)&#123;</span><br><span class="line">&lt;循环体&gt; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://imgtu.com/i/6JjLnA"><img src="https://s3.ax1x.com/2021/03/10/6JjLnA.jpg" alt="6JjLnA.jpg"></a></p><p>　　表达式1可以没有，也可以在表达式1里面定义变量，比如上述的计算阶乘：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> number , Factorial = <span class="number">1</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number ) ;</span><br><span class="line"><span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span> ; i &lt;= number ; i++)&#123;</span><br><span class="line">Factorial = Factorial * i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,Factorial) ;</span><br></pre></td></tr></table></figure><p>　　如果在 for 循环表达式1里面定义变量，可能会出现一个警告：</p><blockquote><p>[Error] ‘for’ loop initial declarations are only allowed in C99 mode</p><p>[Note] use option -std=c99 or -std=gnu99 to compile your code</p></blockquote><p>　　这种写法是C99才有的，看编译器的接受程度。<br>　　for 循环像一个计数循环：设定一个计数器，初始化它，然后在计数器到达某值之前，重复执行循环体。相比于其他两种循环，for 循环的次数判断是最简单的。</p><h2 id="循环的选择"><a href="#循环的选择" class="headerlink" title="循环的选择"></a><FONT COLOR = Cyan>循环的选择</font></h2><p>　　如果有固定的次数，用 for<br>　　如果必须执行一次，用 do - while<br>　　其他情况用 while </p><h1 id="循环举例"><a href="#循环举例" class="headerlink" title="循环举例"></a><FONT COLOR = SpringGreen>循环举例</font></h1><h2 id="循环计算"><a href="#循环计算" class="headerlink" title="循环计算"></a><FONT COLOR = Cyan>循环计算</font></h2><p>　　计算log2x的近似值：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , input ;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">input = x ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">1</span>) &#123;</span><br><span class="line">x = x /<span class="number">2</span> ;</span><br><span class="line">ret++ ;</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;log2 of %d is %d&quot;</span>,input , ret ) ;</span><br></pre></td></tr></table></figure><p>　　这个算法其实很简单，就是把 x 除2，能除多少次就是 2 的多少次方。</p><p>　　<FONT COLOR = LimeGreen>对于边界条件判断的小套路</font>：如果要模拟运行一个很大次数的循环，可以模拟较少的循环次数，然后作出推断。</p><h2 id="算平均数"><a href="#算平均数" class="headerlink" title="算平均数"></a><FONT COLOR = Cyan>算平均数</font></h2><p>$$<br>sum=\frac{\sum_{i=1}^{n}{x_i}}{n}<br>$$</p><p>　　让用户输入一系列的正整数，最后输入 -1 表示输入结束，然后程序计算出这些数字的平均数，最后输出 输入数字的个数和平均数。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , i = <span class="number">0</span> , sum = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">double</span> ave ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x ) ;</span><br><span class="line"><span class="keyword">while</span>( x != <span class="number">-1</span>)&#123;</span><br><span class="line">sum = sum + x ;</span><br><span class="line">i++ ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">&#125;</span><br><span class="line">ave = <span class="number">1.0</span> * sum / i ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;average = %f\n&quot;</span>,ave) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;i=%d&quot;</span>,i) ;</span><br></pre></td></tr></table></figure><h2 id="猜数"><a href="#猜数" class="headerlink" title="猜数"></a><FONT COLOR = Cyan>猜数</font></h2><p>　　让计算机来想一个数，然后让用户来猜，用户每输入一个数，就告诉用户大了还是小了，直到用户猜中了为止，还要告诉用户总共猜了多少次。</p><p>　　<FONT COLOR = LimeGreen>召唤随机数</font>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">srand(time(<span class="number">0</span>)) ;</span><br><span class="line"><span class="keyword">int</span> a = rand() ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a) ;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　但是这样生成的随机数没有办法确定范围，于是有一个<FONT COLOR = LimeGreen>小操作</font>：<br>　　对于任何正整数 a，a % 100 一定在 0 ~ 100之间。a % 1000 一定在 0 ~ 1000 之间。以此类推，显然成立。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line">srand(time(<span class="number">0</span>)) ;</span><br><span class="line"><span class="keyword">int</span> number = rand() ;</span><br><span class="line">number = number % <span class="number">100</span> ;<span class="comment">//这个数一定在 0~ 100之间.</span></span><br><span class="line"><span class="keyword">int</span> x , count ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">count = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">while</span>( x != number)&#123;</span><br><span class="line"><span class="keyword">if</span>( x &gt; number )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;big\n&quot;</span>) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;small\n&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">count++ ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;the number is %d\n&quot;</span>,x) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d times&quot;</span>,count) ; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="整数求逆"><a href="#整数求逆" class="headerlink" title="整数求逆"></a><FONT COLOR = Cyan>整数求逆</font></h2><p>一、700输出007：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , t ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">t = x % <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,t) ; </span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>二、700输出7，12345输出54321：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , t ;</span><br><span class="line">t = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line"><span class="keyword">while</span>( x &gt; <span class="number">0</span> )&#123;</span><br><span class="line">t = t * <span class="number">10</span> + x % <span class="number">10</span> ;</span><br><span class="line">x = x / <span class="number">10</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,t) ;</span><br></pre></td></tr></table></figure><h1 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a><FONT COLOR = SpringGreen>讨论</font></h1><h2 id="会被替换为什么？"><a href="#会被替换为什么？" class="headerlink" title="/* */会被替换为什么？"></a><FONT COLOR = Cyan>/* */会被替换为什么？</font></h2><p>　　编译器在把代码翻译成汇编代码前，还有一个步骤叫预处理。在预处理当中会把注释代码干掉。可以使用以下命令来进行预处理：<br>　　gcc -E hello.c -o hello.i<br>　　hello.i 里面就是预处理后的代码。<br>　　一条语句前的注释 =&gt; 等长的空格；<br>　　一条语句中的注释 =&gt; 一个空格；<br>　　一条语句后的注释 =&gt; 直接删除</p><h2 id="最大的数有多大？"><a href="#最大的数有多大？" class="headerlink" title="最大的数有多大？"></a><FONT COLOR = Cyan>最大的数有多大？</font></h2><p>　　C语言能处理的数字是有上限的。<br>　　首先要搞清楚自己编译器各个数据类型占据多少个字节：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a;</span><br><span class="line"><span class="keyword">char</span>* b; <span class="comment">//指针变量，32位系统与64为系统不一样</span></span><br><span class="line">   <span class="keyword">short</span> <span class="keyword">int</span> c;</span><br><span class="line">   <span class="keyword">int</span> d;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">int</span> e;</span><br><span class="line">   <span class="keyword">float</span> f;</span><br><span class="line">   <span class="keyword">double</span> g;</span><br><span class="line">   <span class="keyword">long</span> h;</span><br><span class="line">   <span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line">   <span class="keyword">unsigned</span> <span class="keyword">long</span> j;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char a=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(a));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;char*b=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(b));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;short int c=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(c));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;int d=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(d));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsigned int e=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(e));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;float f=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(f));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;double g=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(g));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long h=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(h));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;long long i=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(i));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;unsiged long j=%d\n&quot;</span>,(<span class="keyword">int</span>)<span class="keyword">sizeof</span>(j));</span><br></pre></td></tr></table></figure><p>　　对整型int来说，一个整数占4个字节，一个字节可以储存8位无符号数，所以一个整数占32bit，其中最高位要表示符号，所以最小的数就是 -2^31。而最大的数是 2^31-1，理由是要减去一个0。</p><h2 id="for很怪吗？"><a href="#for很怪吗？" class="headerlink" title="for很怪吗？"></a><FONT COLOR = Cyan>for很怪吗？</font></h2><p>　　为什么老师说for循环很怪？for循环是高级语言出现的第一种循环，它和现代的程序设计理念是否存在差距？为什么Python语言就没有C语言这种形式的for循环了？</p><p>　　for循环更加偏向于机器理解的指令，不像while语句更容易让人理解。<br>　　Python中用的是 for in 语句，打个比方，for(int i=0;i&lt;10;i++) 在python中表示为 for i in range(0,10)，python的语法更让人理解。</p><h1 id="习题"><a href="#习题" class="headerlink" title="习题"></a><FONT COLOR = SpringGreen>习题</font></h1><h2 id="输出所有小于等于n的奇数"><a href="#输出所有小于等于n的奇数" class="headerlink" title="输出所有小于等于n的奇数"></a><FONT COLOR = Cyan>输出所有小于等于n的奇数</font></h2><p><strong>题目内容：</strong><br>　　比如输入8，则要输出1 3 5 7.比如输入9，则要输出1 3 5 7 9.</p><p><strong>输入格式:</strong><br>　　输入一个正整数n，表示班级的人数。</p><p><strong>输出格式：</strong><br>　　每两个数之间用一个空格隔开，最后一个数后面没有空格。</p><p><strong>输入样例：</strong>11</p><p><strong>输出样例：</strong>1 3 5 7 9 11</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n) ;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span> ;</span><br><span class="line"><span class="keyword">while</span>( i &lt;= n )&#123;</span><br><span class="line"><span class="keyword">if</span>( i % <span class="number">2</span> == <span class="number">0</span> )&#123;</span><br><span class="line">i++ ;</span><br><span class="line"><span class="keyword">continue</span> ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,i) ;</span><br><span class="line"><span class="keyword">if</span>( i &lt; n<span class="number">-1</span> )&#123; <span class="comment">//这里我一开始条件是i&lt;n，那样输入偶数就不对了</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">i++ ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//printf(&quot;f&quot;) ;//用来看尾巴有没有空格</span></span><br></pre></td></tr></table></figure><h2 id="注意-i-和-i-的区别"><a href="#注意-i-和-i-的区别" class="headerlink" title="注意 i++ 和 ++i 的区别"></a><FONT COLOR = Cyan>注意 i++ 和 ++i 的区别</font></h2><p>　　<code>for ( i=0; i&lt;10; i++ ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;10; ++i ) &#123;...&#125;</code><br>　　<code>for ( i=0; i&lt;=9; i++ ) &#123;...&#125;</code><br>　　以上三者等价。<br>　　<code>for ( i=0; i++&lt;10;  ) &#123;...&#125;</code>，这个不一样：</p><p>　　第一种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++ ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　循环了10轮，循环体是 i 从0 到 9。出循环体时 i 是 10。<br>　　第二种情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i ;</span><br><span class="line"><span class="keyword">for</span> ( i=<span class="number">0</span>; i++&lt;<span class="number">10</span>;  ) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i) ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, i) ;</span><br></pre></td></tr></table></figure><p>　　同样是循环了10轮，循环体是 i 从1 到 10。出循环体时 i 是11。</p><h2 id="注意for循环表达式2和表达式3的顺序"><a href="#注意for循环表达式2和表达式3的顺序" class="headerlink" title="注意for循环表达式2和表达式3的顺序"></a><FONT COLOR = Cyan>注意for循环表达式2和表达式3的顺序</font></h2><p>　　口算一下下面这段代码的输出值是多少：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( i=<span class="number">10</span>; i&gt; <span class="number">1</span>; i /=<span class="number">2</span> ) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, i++);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　10 5 3 2 。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;循环（上）&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>汉高祖03西入秦关</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/03/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9603%E8%A5%BF%E5%85%A5%E7%A7%A6%E5%85%B3/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/03/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9603%E8%A5%BF%E5%85%A5%E7%A7%A6%E5%85%B3/</id>
    <published>2021-03-03T14:14:01.000Z</published>
    <updated>2021-03-16T15:31:15.409Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>每个时代都有不同的时代主题。秦二世元年七月，陈胜吴广起义如晴天霹雳一般，击碎了秦帝国安逸的美梦。至此，反抗秦帝国的暴政就是这个时代的主题。</FONT></p><a id="more"></a><h1 id="怀王谋略"><a href="#怀王谋略" class="headerlink" title="怀王谋略"></a><FONT COLOR = SpringGreen>怀王谋略</font></h1><h2 id="怀王夺权"><a href="#怀王夺权" class="headerlink" title="怀王夺权"></a><FONT COLOR = Cyan>怀王夺权</font></h2><p>　　前208年八月，项梁战死后，楚怀王开始了他的一系列操作：</p><blockquote><p>　　时连雨，自七月至九月。项羽、沛公攻外黄未下，去，攻陈留；闻武信君死，士卒恐，乃与将军吕臣引兵而东，徙怀王自盱眙都彭城。吕臣军彭城东；项羽军彭城西；沛公军砀。</p><p>　　后九月，楚怀王并吕臣、项羽军，自将之；以沛公为砀郡长，封武安侯，将砀郡兵；封项羽为长安侯，号为鲁公；吕臣为司徒，其父吕青为令尹。——《资治通鉴·前208》</p></blockquote><p>　　项梁死后，楚怀王做了以下几个部署：<br>　　1、迁都彭城<br>　　2、夺取吕臣、项羽的军队，自己亲自统领<br>　　3、提拔吕臣吕青作为文官。<br>　　4、提拔刘邦</p><p>　　显然这是楚怀王熊心为了自己掌权所做的部署。除此之外，当时还有非常重要的两件事情要解决，就是灭秦和救赵。</p><h2 id="灭秦救赵"><a href="#灭秦救赵" class="headerlink" title="灭秦救赵"></a><FONT COLOR = Cyan>灭秦救赵</font></h2><blockquote><p>　　章邯已破项梁，以为楚地兵不足忧，乃渡河，北击赵，大破之；引兵崐至邯郸，皆徙其民河内，夷其城郭。张耳与赵王歇走入钜鹿城，王离围之。陈馀北收常山兵，得数万人，军钜鹿北；章邯军钜鹿南棘原。赵数请救于楚。——《资治通鉴·前208》</p></blockquote><p>　　项梁被杀之后，章邯认为楚地不用忧虑了，立马开始攻击赵国，而且王离也率领长城军团前来支援。击破邯郸，赵王和国相张耳只能躲进巨鹿城，形势非常危急。<br>　　如果说赵国被击破的话，那么主要反秦武装，就只剩下偏远的燕国和楚国的部分残余了。所以熊心一定要派人去救援赵国，这就是第一个迫在眉睫的任务——救赵。</p><p>　　陈胜吴广当时大泽乡起义时，陈胜派遣周文向西灭秦，最后被章邯击破。所以现在还需要派遣一支军队进入关中灭秦。这就是第二个紧急任务——灭秦。</p><h2 id="怀王之约"><a href="#怀王之约" class="headerlink" title="怀王之约"></a><FONT COLOR = Cyan>怀王之约</font></h2><p>　　当时章邯几乎以一己之力击破了所有的反秦武装，所以大家都害怕和秦军交战，不敢西进灭秦。楚怀王为了激励大家，于是定下了怀王之约：</p><blockquote><p>　　初，楚怀王与诸将约：“先入定关中者王之。”当是时，秦兵强，常乘胜逐北，诸将莫利先入关；独项羽怨秦之杀项梁，奋愿与沛公西入关。——《资治通鉴·前208》</p></blockquote><p>　　先入定关中者王之——“谁能够先进入函谷关，并且安定了关中，谁就是关中王。”在这个重赏之下，也只有两个人愿意，刘邦和项羽。两个任务相比较来说，灭秦较为轻松。最后楚怀王决定，让项羽北上救赵，刘邦西进灭秦。</p><p>　　楚怀王这么做，有以下几点考量：</p><p><FONT COLOR = PowderBlue size = 4><strong>一、项羽残暴</strong></font></p><blockquote><p>　　怀王诸老将皆曰：“项羽为人僄悍猾贼<Font Size = 2><em>【僄悍猾贼：凶悍残忍。】</em></font>。项羽尝攻襄城，襄城无遗类，皆坑之，诸所过无不残灭。且楚数进取，前陈王、项梁皆败。不如更遣长者扶义而西，告谕秦父兄。秦父兄苦其主久矣，今诚得长者往，毋侵暴，宜可下。今项羽僄悍，不可遣。独沛公素宽大长者，可遣。”——《资治通鉴·前208》</p></blockquote><p>　　大家都认为，项羽非常残暴，不适合独自带兵去消灭秦国。需要派一个长者去灭秦。楚怀王的手下将领，也都认为刘邦是宽大长者。</p><p><FONT COLOR = PowderBlue size = 4><strong>二、长者之风</strong></font></p><p>　　何谓长者？第一点要年龄偏大，第二点要宽厚、仁爱。当时是公元前208年，刘邦48岁，项羽24岁，刘邦满足年龄偏大的条件。除此之外，整个社会上对刘邦的评价都比较好，都认为他有长者之风。可以从王陵母亲和郦食其的评价可以看出来：</p><blockquote><p>　　王陵者，故沛人，始为县豪，高祖微时，兄事陵。陵少文，任气，好直言。及高祖起沛，入至咸阳，陵亦自聚党数千人，居南阳，不肯从沛公。及汉王之还攻项籍，陵乃以兵属汉。项羽取陵母置军中，陵使至，则东向坐陵母，欲以招陵。陵母既私送使者，泣曰：“为老妾<Font Size = 2><em>【老妾：旧时年老的妇人对自己的谦称。】</em></font>语陵，谨事汉王。汉王，长者也，无以老妾故，持二心。妾以死送使者。”遂伏剑<Font Size = 2><em>【伏剑：以剑自刎。】</em></font>而死。项王怒，烹陵母。陵卒从汉王定天下。——《史记·陈丞相世家第二十六》</p></blockquote><p>　　王陵的母亲劝王陵为刘邦做事的原因，就是认为刘邦是个长者。</p><blockquote><p>　　及陈胜、项梁等起，诸将徇地<Font Size = 2><em>【徇地：掠地。】</em></font>过高阳者数十人，郦生闻其将皆握齱<Font Size = 2><em>【握齱：同“龌龊”。】</em></font>好苛礼自用<Font Size = 2><em>【自用；自以为是。】</em></font>，不能听大度之言。郦生乃深自藏匿。——《史记·郦生陆贾列传第三十七》</p><p>　　郦食yì其jī为监门，曰：“诸将过此者多，吾视沛公大人长者。”——《史记·高祖本纪第八》</p></blockquote><p>　　郦食其住在高阳，中间经过高阳的起义军将领非常多，但郦食其都看不上，唯独刘邦经过的时候看上了刘邦，就是因为郦食其认为刘邦是个长者。<br>　　从王陵母亲和郦食其的评价可以看出，刘邦在外的名声是非常不错的。</p><p><FONT COLOR = PowderBlue size = 4><strong>三、打压项羽</strong></font></p><p>　　楚怀王是项氏家族所立，项梁死后，楚怀王明里暗里都在打压项氏家族。</p><blockquote><p>　　项梁起东阿，西，比至定陶，再破秦军，项羽等又斩李由，益轻秦，有骄色。宋义乃谏项梁曰：“战胜而将骄卒惰者败。今卒少惰矣，秦兵日益，臣为君畏之。”项梁弗听。乃使宋义使于齐。道遇齐使者高陵君显，曰：“公将见武信君乎？”曰：“然。”曰：“臣论武信君军必败。公徐行即免死，疾行则及祸。”秦果悉起兵益章邯，击楚军，大破之定陶，项梁死。</p><p>　　初，宋义所遇齐使者高陵君显在楚军，见楚王曰：“宋义论武信君之军必败，居数日，军果败。兵未战而先见败征，此可谓知兵矣。”王召宋义与计事，而大说之，因置以为上将军，项羽为鲁公，为次将，范增为末将，救赵。诸别将皆属宋义，号为卿子冠军。——《史记·项羽本纪第七》</p></blockquote><p>　　项梁连连胜利后，宋义劝谏项梁不要骄傲，但项梁不听，还嫌宋义唠叨，于是就把宋义撵去出使齐国，于是就发生了后面和高陵君显相遇的事情。<br>　　楚怀王熊心在听说宋义的事情后，决定和宋义谈话，结果宋义是非常兴奋。他发现宋义是个军事奇才，是一个可以替代项羽的军事奇才。所以他把北伐的重任交给了宋义，而只是把项羽任命为他的副手。</p><p>　　综合以上原因，熊心决定让刘邦西进灭秦，让宋义带着项羽北上救赵。</p><h1 id="高阳酒徒"><a href="#高阳酒徒" class="headerlink" title="高阳酒徒"></a><FONT COLOR = SpringGreen>高阳酒徒</font></h1><blockquote><p>　　（怀王）遣沛公西略地，收陈王、项梁散卒。乃道砀至成阳，与杠里秦军夹壁<Font Size = 2><em>【夹壁：对垒。】</em></font>，破秦二军。楚军出兵击王离，大破之。——《史记·高祖本纪第八》</p></blockquote><p>　　楚怀王于是命令刘邦往西灭秦，刘邦在路上收集陈胜、项梁残余的军队。在西进之前，和北上救赵的队伍一起攻击王离军队。</p><blockquote><p>　　沛公引兵西，遇彭越昌邑，因与俱攻秦军，战不利。还至栗，遇刚武侯，夺其军，可四千余人，并之。与魏将皇欣、魏申徒<Font Size = 2><em>【申徒：官名，即司徒。】</em></font>武蒲之军并攻昌邑，昌邑未拔。——《史记·高祖本纪第八》</p></blockquote><p>　　之后刘邦继续往西进军，路上还遇到了彭越，打了几仗，都不顺利。于是刘邦决定绕过这些攻不下来的城池，经过高阳的时候，遇到了一位非常重要的谋士——郦食其。</p><h2 id="郦生其人"><a href="#郦生其人" class="headerlink" title="郦生其人"></a><FONT COLOR = Cyan>郦生其人</font></h2><blockquote><p>　　郦生食其者，陈留高阳人也。好读书，家贫落魄，无以为衣食业，为里监门吏。然县中贤豪不敢役，县中皆谓之狂生。</p><p>　　及陈胜、项梁等起，诸将徇地<Font Size = 2><em>【徇地：掠地。】</em></font>过高阳者数十人，郦生闻其将皆握齱<Font Size = 2><em>【握齱：同“龌龊”。】</em></font>好苛礼自用<Font Size = 2><em>【自用；自以为是。】</em></font>，不能听大度之言。郦生乃深自藏匿。后闻沛公将兵略地陈留郊，沛公麾下骑士适郦生里中子也，沛公时时问邑中贤士豪俊。骑士归，郦生见谓之曰：“吾闻沛公慢而易<Font Size = 2><em>【易：轻视。】</em></font>人，多大略，此真吾所愿从游，莫为我先<Font Size = 2><em>【先：引见，介绍。】</em></font>。若见沛公，谓曰‘臣里中有郦生，年六十余，长八尺，人皆谓之狂生，生自谓我非狂生’。”骑士曰：“沛公不好儒，诸客冠儒冠来者，沛公辄解其冠，溲溺其中。与人言，常大骂。未可以儒生说也。”郦生曰：“弟<Font Size = 2><em>【弟：但，尽管。】</em></font>言之。”骑士从容言如郦生所诫者。——《史记·郦生陆贾列传第三十七》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　郦食其，是陈留县高阳人。他喜欢读书，但是因为家里贫穷落魄，没有可以依靠过活的产业，于是便去做了看管里门的小吏。但是县里有名望有权势的人没有敢役使他的，当地人都称他为狂生。<br>　　等到陈胜、项梁等人起兵反抗秦朝的时候，起义军将领攻城略地经过高阳的多达数十人，郦食其听闻这些将领个个气量狭小，局促于繁文缛节之中，并且自以为是，很难听取有宏伟抱负的言论。于是郦食其就远远地躲了起来。后来他听说沛公率领军队攻到了陈留郊外，沛公麾下有一名骑兵恰好与郦食其是同乡，沛公经常向他询问陈留县中贤士豪杰的情况。那名骑兵回乡，郦食其见到他后说道：“我曾听说沛公这个人十分傲慢，轻视别人，但是却有远大的谋略，这正是我愿意结交的人，但是并没有人替我引见。你见到沛公以后，就告诉他说‘我的家乡有个人名叫郦食其，已经六十多岁了，身高八尺，县里人都称之为狂生，但他本人却说自己并非狂生’。”骑兵说：“沛公不爱好儒学，凡是佩戴儒生帽子的宾客，总是会被沛公摘掉他们的帽子，并在帽子里小便。他与人谈话时，动不动就破口大骂。所以，你千万不要以儒生的身份去游说沛公。”郦食其说：“你只管将我的话传到就行了。”于是骑兵很从容地将郦食其所吩咐的话转告给沛公。</font></p><p>　　从这个骑兵侍从的话可以看出来，刘邦有两个坏毛病：第一，爱骂人，见人就骂。第二，特别不喜欢儒生，看见儒生的帽子就要“溲溺其中”。即便如此，郦食其也要见刘邦。</p><blockquote><p>　　沛公至高阳传舍，使人召郦生。郦生至，入谒。沛公方倨床使两女子洗足，而见郦生。郦生入，则长揖不拜，曰：“足下欲助秦攻诸侯乎？且欲率诸侯破秦也？”沛公骂曰：“竖儒<Font Size = 2><em>【竖儒：穷酸书生，骂人的话。】</em></font>！夫天下同苦秦久矣，故诸侯相率而攻秦，何谓助秦攻诸侯乎？”郦生曰：“必聚徒合义兵诛无道秦，不宜倨见长者。”于是沛公辍洗，起摄衣，延郦生上坐，谢之。——《史记·郦生陆贾列传第三十七》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　沛公来到高阳传舍下榻，派人召见郦食其。郦食其来到，便进去拜见沛公。当时沛公正坐在床沿上，让两个女子为他洗脚，他就这样召见郦食其。郦食其进来，只是对沛公行了一个拱手礼，并没有跪拜，说：“您是想帮助秦朝打诸侯呢？还是想率领诸侯将秦朝灭掉呢？”沛公骂道：“你这个穷酸书生！天下人苦于秦朝的暴政已经很久了，所以各路诸侯才相继起兵攻打秦朝，你怎么能说帮助秦朝打诸侯呢？”郦食其回答道：“如果您真的打算聚集众人组成正义之师去讨伐暴虐无道的秦朝，那么就不应该用这种傲慢的态度接待长者。”于是沛公停止了洗脚，站起身来整理好衣服，然后请郦食其坐到上位，向他赔礼道歉。</font></p><p>　　郦食其见到刘邦如此场面，非常不高兴，于是没有下跪，而是作了一个长揖，揖而不拜。这个也是不太尊重人的动作。<br>　　刘邦此时48，郦食其此时六十多了；刘邦听了郦食其的一番话之后，觉得非常惭愧，于是道歉，并且请郦食其吃饭，请教灭秦谋略。</p><h2 id="偷袭陈留"><a href="#偷袭陈留" class="headerlink" title="偷袭陈留"></a><FONT COLOR = Cyan>偷袭陈留</font></h2><blockquote><p>　　郦生因言六国从横<Font Size = 2><em>【从横：合纵连横。从，通“纵”。】</em></font>时。沛公喜，赐郦生食，问曰：“计将安出？”郦生曰：“足下起纠合之众，收散乱之兵，不满万人，欲以径入强秦，此所谓探虎口者也。夫陈留，天下之冲，四通五达之郊也，今其城又多积粟。臣善其令，请得使之，令下<Font Size = 2><em>【下：降，归附。】</em></font>足下。即不听，足下举兵攻之，臣为内应。”于是遣郦生行，沛公引兵随之，遂下陈留。号郦食其为广野君。——《史记·郦生陆贾列传第三十七》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　郦食其便说起当年六国合纵连横的形势。沛公听了非常高兴，就赏赐郦食其饭食，问道：“该如何制定伐秦之计呢？”郦食其说：“您聚集乌合之众，收编散兵游勇，不足一万人，想依靠他们直接进军攻打强秦，这就是所谓的摸虎口！陈留这个地方，是天下的交通要道，是个四通八达的地方，如今城中又囤积了很多粮食。我与陈留县令关系很好，请您派我出使陈留，我会劝他归附于您。如果他不听劝的话，您就出兵攻打他，到时候我作内应。”于是沛公派郦食其前往，他自己则带兵在后面尾随，最终占领了陈留。此后，沛公就封郦食其为广野君。</font></p><p>　　郦食其的话也是非常的不客气，直接指出刘邦的要害：现在刘邦手下连一万人都没有，就想消灭强秦，这是绝对不可能的。郦食其建议刘邦先攻打陈留县，第一，陈留县县令是我的朋友。第二，陈留县的军粮很多。刘邦听后决定暂缓西进，先派郦食其游说陈留<Font Size = 2><em>【陈留在现在河南开封附近】</em></font>，然后不等郦食其回来，就立刻偷袭。最后成功攻下陈留，刘邦也因此封郦食其为广野君。<br>　　偷袭陈留成功是刘邦独自西进以来打的第一个大胜仗。</p><h1 id="谋圣之路"><a href="#谋圣之路" class="headerlink" title="谋圣之路"></a><FONT COLOR = SpringGreen>谋圣之路</font></h1><h2 id="初见张良"><a href="#初见张良" class="headerlink" title="初见张良"></a><FONT COLOR = Cyan>初见张良</font></h2><blockquote><p>　　楚王景驹在留，沛公往从之。张良亦聚少年百余人欲往从景驹，道遇沛公，遂属焉；沛公拜良为厩将。良数以太公兵法说沛公；沛公善之，常用其策；良为他人言，皆不省。良曰：“沛公殆天授！”故遂留不去。——《资治通鉴·前208》</p><p>　　陈涉等起兵，良亦聚少年百余人。景驹自立为楚假王，在留。良欲往从之，道还沛公。沛公将数千人，略地下邳西，遂属焉。沛公拜良为厩将<Font Size = 2><em>【厩将：官名。厩，马厩。】</em></font>。<u>良数以《太公兵法》说沛公，沛公善之，常用其策。良为他人者，皆不省。良曰：“沛公殆天授。”</u>故遂从之，不去见景驹。——《史记·留侯世家第二十五》</p></blockquote><p>　　刘邦刚刚起兵的时候就遭遇了雍齿叛乱，刘邦没有打过雍齿，于是准备去投奔陈胜部下立的楚王景驹<Font Size = 2><em>【景驹是陈胜死后，他的部下秦嘉所立】</em></font>。在留县遇见了张良，这是刘邦第一次遇见张良。张良认为刘邦是知音，于是决定跟随刘邦。</p><blockquote><p>　　及沛公之薛，见项梁。项梁立楚怀王。良乃说项梁曰：“君已立楚后，而韩诸公子横阳君成贤，可立为王，益树党。”项梁使良求韩成，立以为韩王。以良为韩申徒<Font Size = 2><em>【申徒：官名，即司徒。】</em></font>，与韩王将千余人西略韩地，得数城，秦辄复取之，往来为游兵颍川。——《史记·留侯世家第二十五》</p></blockquote><p>　　张良遇见项梁后，看见项梁立楚怀王熊心为楚王，于是建议立韩公子横阳君韩成<Font Size = 2><em>【这就是后面项羽杀掉的韩王成】</em></font>为韩王，项梁答应。张良于是为了了却自己家族的心愿，离开刘邦，前去辅佐韩王成。</p><p><Font Size = 2 Color = MediumAquaMarine>　　（张良）与韩王一起带领一千多名士兵向西攻取韩地，攻占了几座城邑，秦国不久又将它们重新夺了回去，他们就在颍川一带往来游走打游击战。</font></p><p>　　从这里可以看出来，张良与韩王成的复国计划并不顺利，张良确实是秦汉之际第一流的谋士，但是会谋划不一定会带兵。应该说张良善于参谋，并不善于直接管理军队。</p><h2 id="再见张良"><a href="#再见张良" class="headerlink" title="再见张良"></a><FONT COLOR = Cyan>再见张良</font></h2><blockquote><p>　　沛公之从雒阳南出轘辕，良引兵从沛公，下韩十余城，击破杨熊军。沛公乃令韩王成留守阳翟，与良俱南，攻下宛，西入武关。——《史记·留侯世家第二十五》</p><p>　　（刘邦）乃以郦食其为广野君，郦商为将，将陈留兵，与偕攻开封<Font Size = 2><em>【开封：当时称启封，《史记》避汉景帝刘启讳，改启为开。】</em></font>，开封未拔。西与秦将杨熊战白马，又战曲遇东，大破之。杨熊走之荥阳，二世使使者斩以徇。南攻颍yǐng阳，屠之。因张良遂略韩地轘huán辕。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　沛公于是封郦食其为广野君，任命郦商为将军，率领陈留的军队，与他一起攻打开封，开封没有攻下。沛公向西和秦将杨熊在白马交战，又在曲遇以东交战，大破秦军。杨熊逃到荥阳，秦二世派使者将他斩首示众。沛公向南进攻颍阳，屠戮那里。依靠张良终于攻下韩地的轘辕关。</font></p><p>　　刘邦攻破陈留后，张良也在河南附近，于是张良过来面见刘邦，这是张良刘邦的第二次相会。在刘邦的帮助下，韩国终于复国。于是张良决定跟着刘邦，帮助刘邦西进灭秦。</p><h2 id="智取南阳"><a href="#智取南阳" class="headerlink" title="智取南阳"></a><FONT COLOR = Cyan>智取南阳</font></h2><p>　　关中的地形是非常险要的，四面都是山，四面有四个非常重要的关口：东边函谷关、西边大散关、北边萧关、南边武关，因此关中也称为四塞之地，易守难攻。<br>　　刘邦想要进入关中实际上只有两条路：从洛阳继续向西，经过函谷关进入关中。另一条是南下，走陕西西南部分的武关。当年周文是从函谷关打进去的，所以刘邦也想走这条路。</p><blockquote><p>　　当是时，赵别将司马卬方欲渡河入关，沛公乃北攻平阴，绝河津。南，战雒阳东，军不利。——《史记·高祖本纪第八》</p></blockquote><p>　　刘邦在洛阳这里吃了败仗，洛阳没有攻下来，还想从洛阳打进函谷关就非常困难。所以刘邦决定南下，经过南阳，从武关打进关中。</p><blockquote><p>　　还至阳城，收军中马骑，与南阳守齮战犨东，破之。略南阳郡，南阳守齮走，保城守宛。沛公引兵过而西。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　回军到阳城，集合军队中的战马和骑兵，与南阳郡守齮在犨县以东交战，击败敌军。攻取南阳郡的土地，南阳郡守齮逃跑，退守到宛县。沛公领兵绕过宛县向西进发。</font></p><p>　　刘邦首先和南阳郡的郡守打了一仗，刘邦胜利后郡守退守宛城，宛城是南阳郡的郡治。刘邦看见太守撤退了，于是想绕过宛县直接向西走。</p><p>　　这里反映出刘邦的一种急功近利的心态，刘邦的目的很明确，就是抢时间。能绕过的就绕，能不打的就不打。就在这时，对于刘邦这种急功近利的进军方式，张良提出了反对意见：</p><blockquote><p>　　张良谏曰：“沛公虽欲急入关，秦兵尚众，距险。今不下宛，宛从后击，强秦在前，此危道也。”于是沛公乃夜引兵从他道还，更旗帜，黎明，围宛城三匝。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　张良劝谏说：“沛公虽然想要尽快攻入关中，但是秦军人数还有很多，据守险要地带。现在不攻下宛县，宛县从后面进攻，强大的秦军挡在前方，这是危险的做法。”于是沛公就在夜里领兵从另一条路返回，变换了旗帜，天快亮时，把宛县城围了三重。</font></p><p>　　刘邦于是假装向西进军，实际上改换旗帜，偷偷掉头回来。南阳郡守以为刘邦的军队全都撤走了，于是放松了戒备。没想到第二天早上，刘邦就包围了南阳，南阳形势危急。</p><blockquote><p>　　南阳守欲自刭。其舍人陈恢曰：“死未晚也。”乃逾城见沛公，曰：“臣闻足下约，先入咸阳者王之。今足下留守宛。宛，大郡之都<Font Size = 2><em>【大郡之都：南阳郡治所在宛县。】</em></font>也，连城数十，人民众，积蓄多，吏人自以为降必死，故皆坚守乘城。今足下尽日止攻，士死伤者必多；引兵去宛，宛必随足下后，足下前则失咸阳之约，后又有强宛之患。为足下计，莫若约降，封其守，因使止守，引其甲卒与之西。诸城未下者，闻声争开门而待，足下通行无所累。”沛公曰：“善。”乃以宛守为殷侯，封陈恢千户。引兵西，无不下者。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　南阳郡守想要自杀。他的门客陈恢说：“等我回来再死也不算晚。”他就翻越城墙去见沛公，说：“我听说您有约定，先进入咸阳的人可以在关中称王。现在您却留下围攻宛县。宛县，是大郡的治所，相连的城邑有几十座，人口众多，积蓄充足，官吏和百姓都认为投降一定会死，因此都登上城墙顽强防守。现在您整天留在这里攻城，士卒死伤的一定有很多；领兵离开宛县，宛县的军队一定会跟在您的后面，您向前就不能履行先入咸阳的约定，向后又有强大的宛县为祸患。我替您考虑，不如约请宛县守军投降，封赏南阳郡守，顺便留他在这里守城，您率领他的士卒向西进发。那些没有被攻下的城邑，听说这个消息，都会争相打开城门等您进城，您就能通行无所牵挂了。”沛公说：“好。”于是他封南阳郡守为殷侯，封给陈恢一千户食邑。沛公领兵向西进发，没有不能攻下的城邑。</font></p><p>　　这个陈恢给刘邦分析了一下局势：如果强攻宛县，一定会耽误率先灭秦的时间，而且搞不好死伤惨重。大家不愿意投降的原因，是这些官吏害怕投降后被清算<Font Size = 2><em>【刘邦在颍阳屠过城】</em></font>。陈恢给刘邦出了个主意，那就是给大家定个投降的条约——约降：只要投降，把军队交给刘邦，刘邦就保证不伤害大家性命，而且保证大家官职不变。<br>　　刘邦听取了陈恢的建议，还给南阳郡守、陈恢一定的封赏。至此，南阳下属所有的县城全部投降刘邦。</p><blockquote><p>　　至丹水，高武侯鳃、襄侯王陵降西陵。还攻胡阳，遇番pó君<Font Size = 2><em>【番君：吴芮。】</em></font>别将梅鋗，与皆<Font Size = 2><em>【皆：同“偕”。】</em></font>，降析、郦。遣魏人宁昌使秦，使者未来。是时章邯已以军降项羽于赵矣。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　抵达丹水，高武侯戚鳃、襄侯王陵在西陵投降。回军进攻胡阳，遇到番君的别将梅鋗，和他一起，降服了析县、郦县。沛公派魏人宁昌出使秦朝，使者没有回来。当时章邯已经率领全军在赵地向项羽投降了。</font></p><hr><p>　　刘邦有自己的过人之处，其中一个就是刘邦的悟性特别好。他不懂兵法，但只要张良跟他讲解，他就能马上听懂。他的计谋也不多，但只要别人讲的有道理，他立即就能采纳。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;每个时代都有不同的时代主题。秦二世元年七月，陈胜吴广起义如晴天霹雳一般，击碎了秦帝国安逸的美梦。至此，反抗秦帝国的暴政就是这个时代的主题。&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="历史的天空" scheme="https://github.com/XuSiyuan-cn/categories/%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/"/>
    
    
    <category term="汉高祖" scheme="https://github.com/XuSiyuan-cn/tags/%E6%B1%89%E9%AB%98%E7%A5%96/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 03 Judgment</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/03/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2003%20Judgment/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/03/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2003%20Judgment/</id>
    <published>2021-03-03T13:59:47.000Z</published>
    <updated>2021-03-29T04:01:13.298Z</updated>
    
    <content type="html"><![CDATA[<p>判断</p><a id="more"></a><h1 id="判断"><a href="#判断" class="headerlink" title="判断"></a><FONT COLOR = SpringGreen>判断</font></h1><h2 id="if-判断"><a href="#if-判断" class="headerlink" title=" if 判断"></a><FONT COLOR = Cyan> if 判断</font></h2><p>　　格式：<code>if(条件成立)&#123;则...&#125;</code><br>　　以算时间差为例，上一讲我们采取全部换算成分钟来做，这次采取用 if 判断是否存在借位的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hour1 , hour2 , minute1 , minute2 ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour1 , &amp;minute1) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour2 , &amp;minute2) ;</span><br><span class="line"><span class="keyword">int</span> hour , minute ;</span><br><span class="line">hour = hour2 - hour1 ;</span><br><span class="line">minute = minute2 - minute1 ;</span><br><span class="line"><span class="keyword">if</span>( minute &lt; <span class="number">0</span> )&#123;</span><br><span class="line">minute = minute + <span class="number">60</span> ;</span><br><span class="line">hour-- ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;时间差是%d小时%d分钟\n&quot;</span>, hour , minute ) ;</span><br></pre></td></tr></table></figure><h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a><FONT COLOR = Cyan>关系运算</font></h2><p><a href="https://imgtu.com/i/6Gslzd"><img src="https://s3.ax1x.com/2021/03/10/6Gslzd.png" alt="6Gslzd.png"></a></p><p>　　关系运算的结果只有两个值，如果符合预期则是1，如果不符合预期则是0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> == <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &gt; <span class="number">3</span> );</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span> &lt;= <span class="number">3</span> );</span><br></pre></td></tr></table></figure><p>　　输出的值分别是0 、1、0。<br>　　所有的关系运算符的优先级都要比算术运算低，但是比赋值运算高。<br>　　在关系运算符之间，判断是否相等的 ==、！= 优先级也要比其他判断大小的优先级要低。</p><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a><FONT COLOR = Cyan>注释</font></h2><p>　　单行注释：C语言里，双斜杠可以表示一行都是注释 // ，C99支持，ANSI不支持。<br>　　多行注释：/**/ 可以表示多行注释</p><h2 id="else"><a href="#else" class="headerlink" title="else"></a><FONT COLOR = Cyan>else</font></h2><p>　　以算找零为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price , bill ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入金额\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入票面\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;bill) ;</span><br><span class="line"><span class="keyword">if</span>(bill &gt; price)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应该找您%d\n&quot;</span>,bill-price) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;钱不够&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　if - else 格式与流程图如下所示：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( 条件表达式 )&#123;</span><br><span class="line"><span class="keyword">if</span>体语句</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">else</span>体语句</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<a href="https://imgtu.com/i/6J5b9I"><img src="https://s3.ax1x.com/2021/03/10/6J5b9I.jpg" alt="6J5b9I.jpg" style="zoom: 67%;" /></a></p><h2 id="没有大括号"><a href="#没有大括号" class="headerlink" title="没有大括号"></a><FONT COLOR = Cyan>没有大括号</font></h2><p>　　一个基本的 if 语句由一个关键字 if 开头，跟上在括号里的一个表示条件的逻辑表达式，然后是一对大括号 “{}” 之间的若干条语句。<br>　　如果表示条件的逻辑表达式的结果不是零，那么就执行后面跟着的这对大括号中的语句，否则就跳过这些语句不执行，而继续下⾯面的其他语句。</p><p>　　if 语句还有一种形式，就是没有大括号的情况：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( total &gt; amount )</span><br><span class="line">total += amount+<span class="number">10</span> ;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>if 语句这一行结束的时候并没有表示语句结束的分号 “ ; ” </font>。而后面的赋值语句写在 if 的下一行，在这一行结束的时候有一个表示语句结束的分号。这表明这条赋值语句是if语句的一部分，if 语句拥有和控制这条赋值语句，决定它是否要被执行。else 同理。</p><p>　　以计算加班费为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> rate = <span class="number">8.25</span> ;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> standard = <span class="number">40</span> ;</span><br><span class="line"><span class="keyword">double</span> pay = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> hours ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入工作的小时数：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;hours) ;</span><br><span class="line"><span class="keyword">if</span>( hours &gt; standard )</span><br><span class="line">pay = standard * rate + ( hours - standard ) * ( rate * <span class="number">1.5</span> ) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">pay = hours * rate ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;应付工资：%f\n&quot;</span>,pay) ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　以判断成绩为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PASS = <span class="number">60</span> ;</span><br><span class="line"><span class="keyword">int</span> score ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;清输入成绩：&quot;</span>) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;score) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;你输入的成绩是%d。\n&quot;</span>, score ) ;</span><br><span class="line"><span class="keyword">if</span>( score &gt;= PASS)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;及格了\n&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;不及格\n&quot;</span>) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;再见\n&quot;</span>) ; </span><br></pre></td></tr></table></figure><p>　　可以看到，if 和 else 后面都没有大括号，那么紧跟着 if 和 else 的语句就是他们控制的语句。而《判断成绩》里的再见不属于 if 或者 else 控制。但这种写法很危险！</p><h1 id="判断的嵌套与级联"><a href="#判断的嵌套与级联" class="headerlink" title="判断的嵌套与级联"></a><FONT COLOR = SpringGreen>判断的嵌套与级联</font></h1><h2 id="嵌套的-if-else"><a href="#嵌套的-if-else" class="headerlink" title="嵌套的 if - else"></a><FONT COLOR = Cyan>嵌套的 if - else</font></h2><p>　　判断三个数比较大小，先画出流程图：</p><p><img src="https://www.hualigs.cn/image/6050233c3b196.jpg"></p><p>　　根据流程图写出代码：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a , b, c ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>,&amp;a,&amp;b,&amp;c) ;</span><br><span class="line"><span class="keyword">int</span> max ;</span><br><span class="line"><span class="keyword">if</span>( a &gt; b )&#123;</span><br><span class="line"><span class="keyword">if</span>( a &gt; c)&#123;</span><br><span class="line">max = a ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">max = c ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">if</span>( b &gt; c )&#123;</span><br><span class="line">max = b ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">max = c ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,max) ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　if - else 里面还有 if - else，这就是 if - else的嵌套。对于这种代码的编写与阅读，建议先画出流程图。<br>　　<FONT COLOR = LimeGreen>else 的匹配</font>：else 总是会和最近的 if 匹配。当然，前提是没有大括号的影响：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a, b ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;a,&amp;b) ;</span><br><span class="line"><span class="keyword">if</span>( a == <span class="number">1</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( b == <span class="number">1</span> )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;一切正常&quot;</span>) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;继续等待&quot;</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个 else 就属于第二个 if 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a, b ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;a,&amp;b) ;</span><br><span class="line"><span class="keyword">if</span>( a == <span class="number">1</span> )&#123;</span><br><span class="line"><span class="keyword">if</span>( b == <span class="number">1</span> )</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;一切正常&quot;</span>) ;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;继续等待&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这个 else 就属于 第一个 if 。</p><p>　　这些都是不好的编写习惯，所以对于 if - else 不管接下来跟几句代码，都要加｛｝。减少错误，也方便阅读。</p><h2 id="级联的-if-else"><a href="#级联的-if-else" class="headerlink" title="级联的 if -else "></a><FONT COLOR = Cyan>级联的 if -else </font></h2><p>　　如何表示分段函数？比如<br>$$<br>f(x)=\begin{cases} -1，x&lt;0\ 0， x=0\2x,　x&gt;0\end{cases}<br>$$</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , fx ;</span><br><span class="line"><span class="keyword">if</span>( x &lt; <span class="number">0</span> )&#123;</span><br><span class="line">fx = <span class="number">-1</span> ;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>( x == <span class="number">0</span> )&#123;</span><br><span class="line">fx = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">fx = <span class="number">2</span> * x ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这种有 if - else if - else 的，就称为 if - else 的级联。利用流程图来理解：</p><p><img src="https://www.hualigs.cn/image/6050de45bdc71.jpg"></p><h1 id="多路分支"><a href="#多路分支" class="headerlink" title="多路分支"></a><FONT COLOR = SpringGreen>多路分支</font></h1><p>　　当情况非常多的时候，用级联的 if - else 就会比较复杂，比如以下例子：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> type ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;type) ;</span><br><span class="line"><span class="keyword">if</span> ( type == <span class="number">1</span> )</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;morning&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>( type == <span class="number">2</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;afternoon&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>( type == <span class="number">3</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;evening&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>( type == <span class="number">4</span>)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;bye&quot;</span>) ;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;what?&quot;</span>) ;</span><br></pre></td></tr></table></figure><p>　　这种情况下，级联的 if - else 写起来比较复杂，程序运行速率也比较慢，于是就有另外的一种方式：switch - case 语句</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> type ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;type) ;</span><br><span class="line"><span class="keyword">switch</span>( type )&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;morning&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;afternoon&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;eventing&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;bye&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">default</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;what?&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　switch - case 格式如下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>( 控制表达式 )&#123;</span><br><span class="line"><span class="keyword">case</span> 常量 :</span><br><span class="line">语句......</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> 常量 :</span><br><span class="line">语句......</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">default</span> : </span><br><span class="line">语句......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<FONT COLOR = LimeGreen>特别注意</font>：<br>　　这个控制表达式，只能是整数型的结果，即 int 型。<br>　　case 中的 break 不一定强制需要。switch 可以看作是一种基于计算的跳转。计算控制表达式的值之后，程序会跳转到相匹配的 case 处。这个 case 相当于是一个路牌，执行完这个 case 里面的所有语句后，如果后面没有 break，程序就会顺序执行到下面的 case 里去，直到遇到一个 break，或者 switch 结束为止。 </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>( type )&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;afternoon&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">default</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;what?&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　比如此时，输入 1 或者 2 都能得到 afternoon 的结果。</p><h2 id="switch-case举例"><a href="#switch-case举例" class="headerlink" title="switch - case举例"></a><FONT COLOR = Cyan>switch - case举例</font></h2><p>　　<FONT COLOR = PowderBlue size = 4><strong>成绩转换</strong></font>：<br>　　本题要求编写程序将一个百分制成绩转换为五分制成绩。转换规则：大于等于90分为A；小于90且大于等于80为B；小于80且大于等于70为C；小于70且大于等于60为D；小于60为E。<br>　　输入格式：输入在一行中给出一个整数的百分制成绩。<br>　　输出格式：在一行中输出对应的五分制成绩。<br>　　输入样例：90<br>　　输出样例：A</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> score ; </span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;score) ;</span><br><span class="line">score = score / <span class="number">10</span> ;</span><br><span class="line"><span class="keyword">switch</span>( score )&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span> :<span class="comment">//这段要是漏了，100分就没法处理 </span></span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;B&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;C&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;D&quot;</span>) ;</span><br><span class="line"><span class="keyword">break</span> ; </span><br><span class="line"><span class="keyword">default</span> :</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;E&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这段代码不符合单一出口原则，等学了字符串后再说。</p><h1 id="if-常见错误"><a href="#if-常见错误" class="headerlink" title="if 常见错误"></a><FONT COLOR = SpringGreen>if 常见错误</font></h1><p>　　<FONT COLOR = LimeGreen>忘记大括号</font>：if - else 后面不管有几条语句，都要加大括号，除了if - else - if 级联以外。</p><p>　　<FONT COLOR = LimeGreen>if 后面的分号</font>：if 后面不能有分号，否则 if 失效：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> salary = <span class="number">4000</span> ;</span><br><span class="line"><span class="keyword">int</span> age = <span class="number">55</span> ;</span><br><span class="line"><span class="keyword">if</span>( age &gt; <span class="number">60</span> );</span><br><span class="line">&#123;</span><br><span class="line">salary = salary * <span class="number">1.2</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,salary) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　这段程序还是可以通过编译的，但实际上 if 已经失效了，因为 if 后面有大括号的缘故，相当于 if 判断后执行了一条空语句。<br>　　保持一个习惯，写完 if 后，习惯性加一个 ( ) 和 { } 。</p><p>　　<FONT COLOR = LimeGreen>错误的使用 == 和 =</font>：if 只要求 ( ) 里的值是零，或者非零。也就是说：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">1</span> , b = <span class="number">2</span> ;</span><br><span class="line"><span class="keyword">if</span>( a = b )&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;A=B&quot;</span>) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　不管 a b 为何值，都能通过编译，而且都能进入 if 。</p><p>　　<FONT COLOR = LimeGreen>使人困惑的 else </font>：注意格式和美观。代码风格就是三观。</p><h1 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a><FONT COLOR = SpringGreen>讨论</font></h1><h2 id="分段函数可以用switch-case吗？"><a href="#分段函数可以用switch-case吗？" class="headerlink" title="分段函数可以用switch-case吗？"></a><FONT COLOR = Cyan>分段函数可以用switch-case吗？</font></h2><p>　　比如这个函数，如果用 switch - case 表示，如何表示？<br>$$<br>f(x)=\begin{cases} -1，x&lt;0\ 0， x=0\2x,　x&gt;0\end{cases}<br>$$<br>　　使用逻辑判断方法，将 x 区间全部化为整数：<br>　　<code>t = ( x &gt;= 0 ) + ( x == 0)</code>，如果 x &lt; 0 ，则 t = 0，如果 x &gt; 0 ，则 t = 1，如果 x = 0 ，则 t = 2  。（不满足条件，满足一个条件，满足两个条件）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> t , x ;</span><br><span class="line"><span class="keyword">int</span> fx ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x) ;</span><br><span class="line">t = ( x &gt;= <span class="number">0</span> ) + ( x == <span class="number">0</span> ) ;</span><br><span class="line"><span class="keyword">switch</span>( t )&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span> :</span><br><span class="line">fx = <span class="number">-1</span> ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span> :</span><br><span class="line">fx = <span class="number">2</span> * x ;</span><br><span class="line"><span class="keyword">break</span> ;</span><br><span class="line"><span class="keyword">default</span> :</span><br><span class="line">fx = <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,fx) ;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;判断&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 02 Calculation</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/02/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2002%20Calculation/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/02/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2002%20Calculation/</id>
    <published>2021-03-02T02:36:38.000Z</published>
    <updated>2021-03-29T04:01:10.346Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>计算</FONT></p><a id="more"></a><h1 id="变量"><a href="#变量" class="headerlink" title="变量"></a><FONT COLOR = SpringGreen>变量</font></h1><p>　　以算找零为例：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入金额（元）：&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price);</span><br><span class="line"><span class="keyword">int</span> change = <span class="number">100</span> - price;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,change);</span><br></pre></td></tr></table></figure><h2 id="关于scanf"><a href="#关于scanf" class="headerlink" title="关于scanf"></a><FONT COLOR = Cyan>关于scanf</font></h2><p>　　1、输入是以行为单位进行的，行的结束标志就是按下回车键。也就是说，按下回车键之前，程序不会读到任何东西。<br>　　2、scanf中如果没有&amp;，程序不会报错，但是在执行的时候会卡住。<br>　　3、%d表示要求输入一个整数，如果不是整数怎么办？就会出现输入无效的情况。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">0</span> , b = <span class="number">0</span> ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a , &amp;b) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, a , b ) ;</span><br></pre></td></tr></table></figure><p>　　出现在scnaf格式字符串的东西，都是scanf需要读取的东西。如果中间有空格则一定要输入空格；如果里面有逗号则一定要输入逗号。<br>　　<code>scanf(&quot;%d %d&quot;, &amp;a , &amp;b) ;</code>如果两个%d中间有空格，可以用回车代替。多个空格视为一个空格。<br>　　<code>scanf(&quot;%d，%d&quot;, &amp;a , &amp;b) ;</code>如果有逗号却没有输入逗号的话，则后面的变量就会输入失败，程序就不会去读取用户给b的输入值。这个逗号可以是英文或者中文。<br>　　<code>scanf(&quot;%d %d &quot;, &amp;a , &amp;b) ;</code>如果最后一个%d后面有空格，则一定要输入空格，否则按再多的回车也没用。可以用其他东西代替空格，比如随便输入一些数字之类的，这个东西不会被程序读取，只是为了满足空格。<br>　　<code>scanf(&quot;%d %d\n&quot;, &amp;a , &amp;b) ;</code>如果最后一个%d后面有回车，则输入回车也没有用，一定要输入一个其他的东西来满足回车。这个东西不会被程序读取，只是为了满足回车。</p><h2 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a><FONT COLOR = Cyan>变量定义</font></h2><p>　　变量是一个保存数据的地方。<br>　　变量定义的一般形式是类型名称+变量名称。比如：int price ； int amount ； int price , amount；<br>　　变量需要一个名字，即“标识符”，计算机用其来进行区分和识别。<br>　　<FONT COLOR = LimeGreen>标识符有其构造规则</font>：<br>　　1、只能用字母、数字、下划线组成。<br>　　2、数字不可以出现在第一个位置上。<br>　　3、C语言的关键字（保留字）不能作为标识符。</p><h2 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a><FONT COLOR = Cyan>变量赋值</font></h2><p><code>int price = 0 ；</code><br>　　这一行定义了一个变量。变量名字是price，类型是int，这个赋值动作是在定义变量时候做的，所以这个值也称为初始值，或初始化。<br>　　在C语言里，初始化和赋值的差异不大，在C++里会有差异。<br>　　C语言里没有强制要求所有的变量在定义的地方做初始化，但是要求所有的变量第一次被使用（出现在赋值运算右边时候）之前被赋值一次。</p><p><FONT COLOR = PowderBlue size = 4><strong>如果没有初始化？</strong></font></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a , b ;</span><br><span class="line">b = a + <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b);</span><br></pre></td></tr></table></figure><p>　　如果没有进行初始赋值而强行运算，可能会出现一堆奇怪的数字。原因是变量在内存当中，如果没有初始赋值，那么这个变量所处的内存位置，原本有什么数据，他就会输出什么数据。就像去一间没有打扫过的房间一样。</p><p><FONT COLOR = PowderBlue size = 4><strong>变量初始化</strong></font></p><p>　　单独初始化：<code>int price = 0 ；</code>&lt;类型名称&gt;&lt;变量名称&gt; = &lt;初始值&gt;；<br>　　组合初始化：<code>int price = 0 ， amount = 100 ；</code><br>　　在<code>int change = 100 - price;</code>这一行中，不仅仅定义了变量change，还做了计算。这种写法是C99的写法，C99允许在程序的任何地方定义变量，只要在这个变量第一次使用之前都可以。而更老的版本ANSI C只能在代码开头的地方定义变量。</p><h2 id="常量与变量"><a href="#常量与变量" class="headerlink" title="常量与变量"></a><FONT COLOR = Cyan>常量与变量</font></h2><p>　　固定不变的数是常数，直接写在程序里，我们称作直接量（literal）。比如在《算找零》程序中那个100，就是直接量。更好地方式是定义一个常量：<br>　　<code>const int AMOUNT = 100 ;</code> 这也是C99的写法，这个好处是让程序更好地理解，更好地修改。<br>　　<FONT COLOR = PowderBlue >const</font> 是一个修饰符，加在 int 的前面，用来给这个变量加上一个 const （不变的）属性。这个 const 的属性表示这个变量的值一旦初始化，就不能再修改了。如果尝试对常量做修改，把它放在赋值运算符的左边，就会被编译器发现，指为一个错误。</p><blockquote><p>[Error] assignment of read-only variable</p></blockquote><h1 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a><FONT COLOR = SpringGreen>浮点数</font></h1><p>　　C是一种有类型的语言，所有的变量在使用之前必须定义或声明，所有的变量必须具有确定的数据类型。数据类型表示在变量中可以存放什么样的数据，变量中只能存放指定类型的数据，程序运行过程中也不能改变变量的类型。<br>　　带小数点的数就是浮点数。浮点这个词的本意就是指小数点是浮动的，是计算机内部表达非整数（包含分数和无理数）的一种方式。另一种方式叫做定点数，表示小数点永远出现在第几位，比如小数点永远出现在第四位。<br>　　在C语言里不会遇到定点数，人们用浮点数表示所有带小数点的数。</p><p>　　关于浮点数的研究以单位换算为例，英制长度英尺英寸转化为公制单位：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> foot = <span class="number">0</span> , inch = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">double</span> meter ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，如输入5 7表示5英尺7英寸\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;foot , &amp; inch);</span><br><span class="line">meter = ( foot + inch / <span class="number">12.0</span>) * <span class="number">0.3048</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;你的身高是%f米&quot;</span>, meter) ;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　就是这么个简单程序实际写起来会有很多注意点，以下注意点都是语法不会报错的情况：</p><p><FONT COLOR = PowderBlue size = 4><strong>第一个注意点</strong></font>：<code>    meter = ( foot + inch / 12) * 0.3048 ;</code><br>　　inch 是整型，12也是整数。<FONT COLOR = LimeGreen>整数在互相运算的时候只能出现整数。</font>所以如果此时 inch 是11，则运算结果是0；如果 inch 是13，则运算结果是1。<br>　　在C语言中，10/3*3 = 9 。小数点后面的数全都被丢掉了。10和10.0在C中是完全不同的两个数。10.0是浮点数。由于这个特性所以有一些很特殊的运算：</p><p>　　10/3.0*3 = 10.0 。</p><p>　　10/3*3.0=9.0 。<br>　　基于此可以有以下修改。</p><p>　　第一个办法是：把这行变成：<code>meter = ( foot + inch / 12.0) * 0.3048 ;</code><FONT COLOR = LimeGreen>当浮点数和整数放到一起运算时，C会将整数转换为浮点数，然后进行浮点数的运算。</font>即 inch 整数和浮点数做计算的时候，自己也会变成浮点数。<br>　　第二个办法是：<FONT COLOR = LimeGreen>在开头就把 inch ，foot 定义为 double ，但此时一定要注意scanf 里面输入也有变化，不再是%d，而是%lf</font>：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> foot , inch , meter ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，如输入5 7表示5英尺7英寸\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%lf %lf&quot;</span>, &amp;foot , &amp; inch);</span><br><span class="line">meter = ( foot + inch / <span class="number">12</span>) * <span class="number">0.3048</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;你的身高是%f米&quot;</span>, meter) ;</span><br></pre></td></tr></table></figure><p>　　double是“双精度浮点数”的意思，float表示单精度浮点数。</p><p><FONT COLOR = PowderBlue size = 4><strong>第二个注意点</strong></font>：<code>double meter ;</code><br>　　因为meter里要乘以一个0.3048，meter一定是浮点数。所以定义meter时候如果定义为int，输出值会不正常。不是说int型不能用float输出，而是int型没有经过运算就赋值小数的话，会不正常。比如下面这段：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a ;</span><br><span class="line">a = <span class="number">1.333</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>,a);</span><br></pre></td></tr></table></figure><p>　　输出就是一串0。</p><p><FONT COLOR = PowderBlue size = 4><strong>第三个注意点</strong></font>：<code>printf(&quot;你的身高是%d米&quot;, meter);</code> </p><p>　　meter一定是浮点数，而输出范式是%d整数的话，输出的值就不正常。所以输出应该是%f。</p><p><FONT COLOR = PowderBlue size = 4><strong>数据类型小总结</strong></font>：<br>　　整数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">定义：<span class="keyword">int</span>  ;</span><br><span class="line">输入：<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;...) ;</span><br><span class="line">输出：<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span> , ....) ;</span><br></pre></td></tr></table></figure><p>　　小数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">定义：<span class="keyword">double</span>  ;</span><br><span class="line">输入：<span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;...) ;</span><br><span class="line">输出：<span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span> , ....)</span><br></pre></td></tr></table></figure><p>求平均值的例子再次巩固下数据类型的差别：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a , b ;</span><br><span class="line"><span class="keyword">double</span> c ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a , &amp;b) ;</span><br><span class="line">c = ( a + b ) / <span class="number">2.0</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span> , c ) ;</span><br></pre></td></tr></table></figure><p>1：如果不是 double c 而是 int c ，那么就会出现小数缺失的情况<br>　　特别注意的是，如果代码改成<code>    int c ; c = ( a + b ) / 2.0 ;</code>这样还是会出现问题。整型赋值为浮点数就会出问题</p><p>2：<code>c = ( a + b ) / 2</code> 这样也会出问题。除非在一开始的时候把 a 和 b 全部定义为 double 型。</p><h1 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a><FONT COLOR = SpringGreen>表达式</font></h1><p>　　四则运算：“%”，表示取余。</p><p>　　以计算时间差为例：输入两个时间，每个时间分别输入小时和分钟的值，然后输出两个时间之间的差，也以几小时几分钟来表示。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hour1 , hour2 , minute1 , minute2 ;</span><br><span class="line"><span class="keyword">int</span> minute , hour ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span> , &amp;hour1 , &amp;minute1) ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span> , &amp;hour2 , &amp;minute2 ) ;</span><br><span class="line">minute1 = minute1 + hour1 * <span class="number">60</span> ;</span><br><span class="line">minute2 = minute2 + hour2 * <span class="number">60</span> ;</span><br><span class="line">minute = minute2 - minute1 ;</span><br><span class="line">hour = minute / <span class="number">60</span> ;</span><br><span class="line">minute = minute % <span class="number">60</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d时%d分&quot;</span> , hour , minute) ;</span><br></pre></td></tr></table></figure><h2 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a><FONT COLOR = Cyan>运算符优先级</font></h2><p>　　单目运算符优先级是最高的，其次是四则运算，其次是关系运算，其次是逻辑运算，赋值运算最低。</p><p><a href="https://imgtu.com/i/6NGIPA"><img src="https://s3.ax1x.com/2021/03/11/6NGIPA.png" alt="6NGIPA.png"></a></p><p>　　单目不变 + ，a *+ b<br>　　单目取负 - ， a *- b ，这里实际上是 a 乘以负 b 。<br>　　单目递增 ++ ，单目递减 –：自加1和自减1是单目运算符，但他们的算子必须是变量。</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>自加1和自减1的前缀后缀</strong></font>：<br>　　a++的值是a加1以前的值，而++a的值是加1以后的值，无论哪个，a自己都加1了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a++=%d\n&quot;</span>, a++ ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;++a=%d\n&quot;</span>, ++a ) ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a++ ) ;</span><br></pre></td></tr></table></figure><p>　　结果分别是10、11 、12、12</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span> ;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">0</span> ;</span><br><span class="line">b = a++ ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d&quot;</span>,a,b);</span><br></pre></td></tr></table></figure><p>　　结果是 a = 11 、 b = 10 。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span> ;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">0</span> ;</span><br><span class="line">a++ ;</span><br><span class="line">b = a ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d&quot;</span>,a,b);</span><br></pre></td></tr></table></figure><p>　　结果是 a = 11 、 b = 11。</p><p>　　从这里可以看出<FONT COLOR = LimeGreen>前缀表达式的值是原来的值，但表达后的结果是自加1或者自减1。</font><br>　　<a href="https://imgtu.com/i/68dSTH"><img src="https://s3.ax1x.com/2021/03/09/68dSTH.png" alt="68dSTH.png"></a></p><h2 id="复合赋值"><a href="#复合赋值" class="headerlink" title="复合赋值"></a><FONT COLOR = Cyan>复合赋值</font></h2><p>　　五个算数运算符 + - * / % 可以和赋值运算符结合起来，形成符合赋值： total += 5 ; 和 total = total +5 ; 是一回事。特别注意，两个运算符中间不能有空格。</p><p>　　total += ( sum + 100 ) / 2 ; 等价于 total = total + ( sum + 100 ) / 2 ;<br>　　total *= sum + 12 ; 等价于 total = total * ( sum + 12 ) ;</p><p>　　从这里可以看出来，符合赋值的优先级是类似赋值运算的优先级的。</p><h1 id="习题"><a href="#习题" class="headerlink" title="习题"></a><FONT COLOR = SpringGreen>习题</font></h1><h2 id="逆序的三位数"><a href="#逆序的三位数" class="headerlink" title="逆序的三位数"></a><FONT COLOR = Cyan>逆序的三位数</font></h2><p>　　程序每次读入一个正三位数，然后输出逆序的数字。注意，当输入的数字含有结尾的0时，输出不应带有前导的0。比如输入700，输出应该是7。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">0</span> ;</span><br><span class="line"><span class="keyword">int</span> a1 , a2 ;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span> , &amp;a ) ;</span><br><span class="line">a1 = a % <span class="number">10</span> ;</span><br><span class="line">a = a / <span class="number">10</span> ;</span><br><span class="line">a2 = a % <span class="number">10</span> ;</span><br><span class="line">a = a / <span class="number">10</span> ;</span><br><span class="line">a = a1 * <span class="number">100</span> + a2 * <span class="number">10</span> + a ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,a) ;</span><br></pre></td></tr></table></figure><p>　　提示：用%10可以得到个位数，用/10可以去掉个位数，三位数/100可以得到首位数。将这样得到的三个数字合起来：百位<em>100+十位</em>10+个位，就得到了结果。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;计算&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>Chapter 01 Introduction</title>
    <link href="https://github.com/XuSiyuan-cn/2021/03/01/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2001%20Introduction/"/>
    <id>https://github.com/XuSiyuan-cn/2021/03/01/03%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/01%20C/Chapter%2001%20Introduction/</id>
    <published>2021-03-01T08:19:46.000Z</published>
    <updated>2021-03-29T04:01:04.928Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>程序设计与C语言</FONT></p><a id="more"></a><h1 id="计算机和编程语言"><a href="#计算机和编程语言" class="headerlink" title="计算机和编程语言"></a><FONT COLOR = SpringGreen>计算机和编程语言</font></h1><h2 id="关于编程语言和计算机"><a href="#关于编程语言和计算机" class="headerlink" title="关于编程语言和计算机"></a><FONT COLOR = Cyan>关于编程语言和计算机</font></h2><p><FONT COLOR = PowderBlue size = 4><strong>计算机里的CPU可以直接运行人类编写的程序吗？</strong></font></p><p>　　CPU = Center Processing Units 指的是中央处理器，是计算机的硬件组成部分。硬件（可以看作是电子原件）只有开和关的实现功能，也可以说CPU只能处理开和关的信号（语言）。所以CPU硬件只能处理机器之间的语言（机器语言），或者说CPU只能处理它所在的计算机给它的指令语言而不能直接处理人类编写的程序。人编写的高级语言是由软件转化为汇编语言，再由操作系统转化为机器语言执行的。</p><p><FONT COLOR = PowderBlue size = 4><strong>为什么说编程语言不是和计算机交谈的语言？</strong></font></p><p>　　人类编写的编程语言是为了便于人类看懂，又方便计算机识别及处理的语言。计算机通过识别后，进入执行状态执行人类编写的编程语言。编程语言是指令集合，指示计算机执行指令，这不存在交流的过程。</p><h2 id="程序的执行"><a href="#程序的执行" class="headerlink" title="程序的执行"></a><FONT COLOR = Cyan>程序的执行</font></h2><p>　　解释执行：借助一个程序，那个程序能试图理解人类的代码，然后按照代码执行。</p><p>　　编译执行：借助一个程序，把人来的代码翻译成计算机能懂的语言：用机器语言写的程序。这个用机器语言写的程序就可以执行了。</p><p>　　语言本无编译、解释之分。任何一种语言既可以解释执行也可以编译执行，只是传统和习惯的问题。常用的语言来说，C是编译性语言，Python是解释性语言。<br>　　解释和编译都只是常用的执行方式而已。<br>　　解释性语言有特殊的计算能力，运行效率比编译性要慢。<br>　　编译性语言有确定的运算性能。</p><p><FONT COLOR = PowderBlue size = 4><strong>编译执行与解释执行</strong></font></p><p><FONT COLOR = PowderBlue >　　有的编程语言，源代码经过编译后形成目标代码，但是这样的目标代码不能直接在CPU上执行，而是需要由一个仿真器程序来解释执行。这样的执行方式是编译的还是解释的？</font></p><p>　　我认为是编译+解释：<br>　　如Java是需要编译的，但是没有直接编译成机器语言，而是编译成字节码，然后在Java虚拟机上用解释的方式执行字节码，Python也是使用了类似的方式。</p><h1 id="C语言介绍"><a href="#C语言介绍" class="headerlink" title="C语言介绍"></a><FONT COLOR = SpringGreen>C语言介绍</font></h1><p>　　C语言在工业界有重要的地位，在很多领域无可替代，几乎所有和硬件打交道的地方都得要用C语言。</p><p>　　C语言是伴随着Unix一起起来的，作为一个有着40多年历史的语言，它是当代很多新兴语言的基础参考体系，但是它也无可避免地带着1970年代的时代烙印。今天的编程语言，基本上都是一家主持的，标准统一，编译运行环境单纯。而C语言只有所谓的标准，每个实现C语言编译器和运行库的厂家都在往里面加入自己的方言。</p><h2 id="为什么选择C？"><a href="#为什么选择C？" class="headerlink" title="为什么选择C？"></a><FONT COLOR = Cyan>为什么选择C？</font></h2><p>　　现代的编程语言在语法上的差异非常小。几乎都是C-like语言。<br>　　语言的能力以及适用领域主要是由库和传统决定的。</p><h2 id="C的发展与版本"><a href="#C的发展与版本" class="headerlink" title="C的发展与版本"></a><FONT COLOR = Cyan>C的发展与版本</font></h2><p>　　1989年ANSI（美国国家标准学会，AMERICAN NATIONAL STANDARDS INSTITUTE）发布了一个标准——ANSI C。<br>　　1990年ISO（国际标准化组织，International Organization for Standardization）接受了ANSI的标准——C89<br>　　C的标准在1995年和1999年两次更新——C95和C99，所有的当代编译器都支持C99。<br>　　C语言标准的最新版本是2011年的C11，但是目前编译器支持得最好的是1999年的C99。我们会按照C99来展开教学。国内很多大学，包括所谓的二级考试，还在坚持更老的ANSI C，所以在课程中，凡是C99和ANSI C不同的地方，我们都做了特别的标注。</p><h1 id="第一个程序"><a href="#第一个程序" class="headerlink" title="第一个程序"></a><FONT COLOR = SpringGreen>第一个程序</font></h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hello,world\n&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>双引号的内容叫做“字符串”，printf会把其中的内容原封不动地输出<br>\n表示需要在输出的结果后面换一行，相当于输出一个换行符。</p><h2 id="做点计算"><a href="#做点计算" class="headerlink" title="做点计算"></a><FONT COLOR = Cyan>做点计算</font></h2><p><code>printf(&quot;%d\n&quot;,23 + 46);</code></p><p>%d说明后面有一个整数要输出在这个位置上</p><p><a href="https://imgchr.com/i/yrRhZQ"><img src="https://s3.ax1x.com/2021/02/13/yrRhZQ.png" alt="yrRhZQ.png"></a></p><h2 id="我们是在学习GCC吗？"><a href="#我们是在学习GCC吗？" class="headerlink" title="我们是在学习GCC吗？"></a><FONT COLOR = Cyan>我们是在学习GCC吗？</font></h2><p><FONT COLOR = PowderBlue >　　常听到有人说他学的是Visual C，有人学的是Turbo C，不是我们学的什么Dev C，是他们的比我们的高级吗？<br>　　<br>还有GCC到底是什么？</font></p><p>　　Microsoft Visual C++ 6.0是一款学习C语言应用软件，Turbo C是美国Borland公司的编译程序。Visual C, Turbo C，Dev c这些只是不同的编程环境而已，没有高低级之分。但不同的开发环境可能对编程人员的感觉是不一样的，DEV C的操作总体比较便捷，它更容易安装，并且占的内存不大。</p><p>　　C语言属于高级语言，要通过编译生成目标程序，再通过连接库函数等来生成可执行文件，而编译的过程就需要通过编译器来实现。GCC（GNU Compiler Collection，GNU编译器套件）是由GNU开发的编程语言编译器。GCC的初衷是为GNU操作系统专门编写一款编译器，现已被大多数类Unix操作系统（如Linux、BSD、Mac OS X等）采纳为标准的编译器，甚至在微软的Windows上也可以使用GCC。</p><h2 id="main-的样子"><a href="#main-的样子" class="headerlink" title="main()的样子"></a><FONT COLOR = Cyan>main()的样子</font></h2><p><FONT COLOR = PowderBlue >　　为什么看到有的书上的main()是void main()，而我们课件上是int main()？<br>　　还有main()里面那句return 0;是必须的吗？</font></p><p>　　在《C Primer Plus》这本书里，对这件事有细致的描述。<br>　　<code>void main()</code>表示主函数没有返回值，可以不加return，有一些编译器是认可这种写法的，但是所有的标准都不认可这样的写法，有的编译器void main()可以通过编译，但在其他编译器就会报错，所以最好不要这样写。在void main（）下return语句返回一个值的话会报错，如果就只是一个return；表示程序结束不继续往下执行。<br>　　<code>int main()</code>表示主函数返回值为整型，可加return 0；返回一个值看是否为0来判断程序是否正常退出（返回值 整型是有取值范围的 尝试了过大会导致程序报错）。这种写法在C 90标准中被勉强接受，但是C 99和C 11标准并不允许这样写。它们仍然可以被正常编译使用的原因是我们的编译器允许这样写。但是书中明确指出，为了使我们的程序有良好的移植性，最好使用以下更为标准的写法。<br>　　在main函数中，return语句的作用在于离开main函数。尝试不加return 0 也可正常运行（但这是不太好的写法） ，了解到是编译器为我们校正默认添加了return 0 放在别的地方可能会出错。有的编译器必须main要有返回值 int ，那就写成int main 后面加return。<br>　　<code>int main(void)</code>是更为标准的写法。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;程序设计与C语言&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="计算机课程" scheme="https://github.com/XuSiyuan-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%BE%E7%A8%8B/"/>
    
    
    <category term="C语言" scheme="https://github.com/XuSiyuan-cn/tags/C%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>汉高祖02时代玉成</title>
    <link href="https://github.com/XuSiyuan-cn/2021/02/27/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9602%E6%97%B6%E4%BB%A3%E7%8E%89%E6%88%90/"/>
    <id>https://github.com/XuSiyuan-cn/2021/02/27/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9602%E6%97%B6%E4%BB%A3%E7%8E%89%E6%88%90/</id>
    <published>2021-02-27T08:19:46.000Z</published>
    <updated>2021-03-16T12:54:17.998Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>每个时代都有不同的时代主题。秦二世元年七月，陈胜吴广起义如晴天霹雳一般，击碎了秦帝国安逸的美梦。至此，反抗秦帝国的暴政就是这个时代的主题。</FONT></p><a id="more"></a><p>　　丰西泽纵徒后，刘邦成了秦帝国的逃犯，只能在芒砀山偷偷摸摸地活着；手上虽然有几十百来号人，但难以成就大事。无论刘邦身上有多少传奇色彩，当时他面对的现实就是秦帝国的追捕，丰西泽纵徒事件把刘邦逼到了人生的死角。要是如此发展下去，刘邦也只能是苟延残喘罢了。但接下来发生的一件大事，把刘邦推向了时代的前沿，刘邦也借助这波时代的洪流创建了伟业，这件大事就是大泽乡起义！</p><p>　　陈胜吴广起义的具体细节在《秦始皇41子婴亡国》里有介绍。</p><h1 id="历史选择"><a href="#历史选择" class="headerlink" title="历史选择"></a><FONT COLOR = SpringGreen>历史选择</font></h1><blockquote><p>　　秦二世元年秋，陈胜等起蕲qí，至陈而王，号为“张楚”。<FONT COLOR = LimeGreen>诸郡县皆多杀其长吏以应陈涉</font><Font Size = 2>【陈涉：陈胜，字涉。】</font>。沛令恐，欲以沛应涉。掾<Font Size = 2>【掾：曹参任狱掾，因此“掾”字应在“曹参”前。】</font>、主吏萧何、曹参乃曰：“君为秦吏，今欲背之，率沛子弟，恐不听。愿君召诸亡在外者，可得数百人，因劫众，众不敢不听。”乃令樊哙召刘季。刘季之众已数十百人矣。——《史记·高祖本纪第八》</p><p>　　当此时，诸郡县苦秦吏者，皆刑其长吏，杀之以应陈涉。</p><p>　　当此时，楚兵数千人为聚者，不可胜数。——《史记·陈涉世家第十八》</p></blockquote><p>　　陈胜吴广起义后给整个秦帝国带来了巨大的影响。大家都把自己地方的郡守、县令杀了来响应陈涉。隔壁项羽也是借此机会在会稽郡起兵。沛县县令遇到了和会稽郡郡守一样的问题——是坚守岗位，还是起兵反秦。<br>　　沛县县令不想死，担心别人起来杀他，所以他决定起兵反秦。萧何曹参建议沛令把刘邦请回来主持大局，沛令听从建议，让刘邦的连襟樊哙去找刘邦。</p><blockquote><p>　　于是樊哙从刘季来。沛令后悔，恐其有变，乃闭城城守，欲诛萧、曹。萧、曹恐，逾城保刘季。刘季乃书帛射城上，谓沛父老曰：“天下苦秦久矣。今父老虽为沛令守，诸侯并起，今屠沛。沛今共诛令，择子弟可立者立之，以应诸侯，则家室完。不然，父子俱屠，无为<Font Size = 2>【无为：徒劳，指白送命。】</font>也。”父老乃率子弟共杀沛令，开城门迎刘季，欲以为沛令。——《史记·高祖本纪第八》</p></blockquote><p>　　县令觉得刘邦手下有几百号人，势力大，自己不一定能控制住；而且刘邦平时就不太尊重上级，沛令于是变卦，想杀曹参萧何。萧曹听说县令反悔，两人立刻翻过城墙去找刘邦。<br>　　沛令直接把城门关了，萧曹又把消息带过来，刘邦知道情况有变。此时作为芒砀山的头头，刘邦就要拿主意了，这里体现出刘邦是一个非常善于使用政治手段的人，刘邦采取的不是项羽那样的斩首行动，而是给城里的老百姓写信。<br>　　刘邦告诉沛县的父老乡亲，天下现在的大趋势是各地的人起来杀自己的县令，你们要保这个县令的话，早晚县令被杀你们也跟着遭殃，为了你们自家的安全，你们还是及早下手把县令给做了，你们就安全了。</p><blockquote><p>　　刘季曰：“天下方扰，诸侯并起，今置将不善，壹败涂地。吾非敢自爱，恐能薄，不能完父兄子弟。此大事，愿更相推择可者。”萧、曹等皆文吏，自爱，恐事不就，后秦种族<Font Size = 2>【种族：灭族。】</font>其家，尽让刘季。诸父老皆曰：“平生所闻刘季诸珍怪，当贵，且卜筮之，莫如刘季最吉。”于是刘季数让。众莫敢为，乃立季为沛公。祠黄帝、祭蚩尤于沛庭，而衅<Font Size = 2>【衅：杀牲以血祭新制的器物。】</font>鼓旗，帜皆赤。由所杀蛇白帝子，杀者赤帝子，故上<Font Size = 2>【上：同“尚”，崇尚。】</font>赤。于是少年豪吏如萧、曹、樊哙等皆为收沛子弟二三千人，攻胡陵、方与，还守丰。——《史记·高祖本纪第八》</p></blockquote><p>　　沛县属于战国时期的楚地，而楚地的县长不叫县令，而叫公，所以刘邦不自称沛令，而自称沛公。<br>　　杀掉秦国县令后，刘邦推辞沛公。刘邦认为，这个沛公不好当，领得好把我们都带出去，领不好我们全跟着遭殃，一败涂地，所以要好好选，我不能当，我担当不起。<br>　　此时实际情况就是三选一：<br>　　刘邦——亡命徒，手下有几百号人，已经是个死刑犯了。<br>　　萧何、曹参—— 萧何曹参有威望，而且在县里担任官职，也是首领的人选。但他们不愿意冒险：“萧、曹等皆文吏，自爱，恐事不就，后秦种族其家，尽让刘季。”</p><p>　　陈胜、吴广是在秦二世元年七月起兵，沛县起兵是九月，中间只隔了两个月，这个时候秦帝国根基还没有动摇，虽然天下反秦武装如火如荼，但是秦帝国的大厦还没有倾倒。<br>　　根据秦代的法律，这样一个反抗政府的行为肯定是死罪，而且不是一般的死罪，是族刑。所以萧何曹参就觉得，第一，他俩原来没有案底前科，不像刘邦已经是记录在案有前科的。第二，这事要是成了，跟着当个大官，这事要不成，他们属于胁从。<br>　　中国法律制度上历来有一个原则——首恶必办、胁从不问。萧何、曹参两个非常聪明的人甘愿当胁从，绝不当首恶。所以大家一看，三个人，萧和曹他俩都不干，那只有叫刘邦了，所以历史就选择了刘邦。</p><p><FONT COLOR = PowderBlue size = 4><strong>刘邦成为沛县起义首领的原因</strong></font></p><p>　　刘邦成为沛公，是人生第一次飞跃，从一介平民成为起义军的领袖，其中有多方面原因：<br>　　第一，刘邦有队伍。不管怎么样他有几百号人，有自己的队伍。<br>　　第二，刘邦受拥戴。受萧何、曹参这些特别有势力的人的拥戴。<br>　　第三，刘邦无畏惧。刘邦根本不知道什么叫害怕，这不得了，心理素质特别好，不知道害怕。<br>　　第四，刘邦超自信。<br>　　萧何、曹参还想着失败了以后会不会灭族，刘邦压根儿就没有想到“失败”这俩字。这里面有一个很清楚的问题，就是他本来已经是死刑犯了，当不当这个头都是个死。借用陈胜的一句话叫“等死，死国可乎”？同样是个死，你当这个造反派头头也是个死，不当造反派头头“潜伏”在芒砀山还是个死，早晚都是个死，还不如当个沛公，能当几天就当几天呗。<br>　　刘邦就这么一下子抓住了机会，成为了沛公。从逃犯到沛公，这是刘邦人生的一大步。人生中往往都有跨越式发展的机会，关键是自己能不能勇敢地抓住。</p><h1 id="时代浪潮"><a href="#时代浪潮" class="headerlink" title="时代浪潮"></a><FONT COLOR = SpringGreen>时代浪潮</font></h1><p>　　刘邦本来只是在芒砀山亡匿隐的一个小混混。成不了大气候，自己手下虽然聚集了一帮人。但这几百人并不能埋葬秦帝国，也不可能成就后面那番伟业。但时代给了他一个发挥自己能力的平台。陈胜吴广所引领的秦末农民大起义给了刘邦一个翻天覆地的大环境。这个时代就像浪潮一样，把他裹着、携着推向了时代前沿。人生的成功总需要平台：</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>第一个是时代的平台</strong></font></p><p>　　抓住了时代的平台，可以借助于时代的潮流的力量，这个潮流的力量是非常巨大的。</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>第二个是个人的平台</strong></font></p><p>　　沛公就是一个个人的平台。如果只有时代的平台没有个人的平台，那么这个时代的潮流就属于别人的，不属于你的。刘邦刚好是把两个平台结合起来了，既有时代的潮流又有个人的平台，二者的结合玉成了刘邦。</p><p>　　人想要获得大的成功一定要努力抓住时代的平台，提升个人的平台，并且牢牢地把两者结合在一起。</p><h1 id="出师不利"><a href="#出师不利" class="headerlink" title="出师不利"></a><FONT COLOR = SpringGreen>出师不利</font></h1><h2 id="帝国反扑"><a href="#帝国反扑" class="headerlink" title="帝国反扑"></a><FONT COLOR = Cyan>帝国反扑</font></h2><p>　　秦二世元年七月，陈胜吴广大泽乡起义，斩木为兵，揭竿为旗。<br>　　秦二世元年九月，刘邦在沛县起义。刘邦比陈胜吴广晚了两个月。<br>　　秦二世二年十二月，陈胜被杀：</p><blockquote><p>　　腊月，陈王之汝阴，还至下城父，其御庄贾杀以降秦。——《史记·陈涉世家第十八》</p></blockquote><p>　　秦以十月为岁首，所以二世二年十二月距离二世元年九月只有三个多月。即刘邦起义三个月后，陈胜吴广兵败被杀。刘邦起兵的时候，虽然当时各地都积极响应陈胜吴广，但在秦将章邯的带领下，整个起义军是在走下坡路。<br>　　详见：《项羽02项羽入关（上）》</p><h2 id="雍齿叛乱"><a href="#雍齿叛乱" class="headerlink" title="雍齿叛乱"></a><FONT COLOR = Cyan>雍齿叛乱</font></h2><p>　　刘邦起兵后遭到秦军围剿：</p><blockquote><p>　　秦泗川监平<Font Size = 2>【泗川监平：泗川郡御史，名叫平，其姓不详。御史监察一郡政务，因此又称监。据史学界对西安市北郊秦宫遗址出土的封泥研究得出结论，泗川郡应为四川郡，《汉书》更是讹为泗水郡。汉武帝元鼎四年（前113年）分东海郡三万户封刘商为泗水王，光武帝建武二年（26年）封刘歙为泗水王，刘歙死后废国设郡。可知四川与泗水不是同一郡。川、水二字篆、隶字体相近，可能是讹误的主要原因。】</font>将兵围丰，二日，出与战，破之。——《史记·高祖本纪第八》</p></blockquote><p>　　刘邦出城与秦军交战，胜利，但立马遭到了手下的背叛：</p><blockquote><p>　　命雍齿守丰，引兵之薛。泗川守壮败于薛，走至戚。沛公左司马得泗川守壮，杀之。沛公还军亢父，至方与，未战。</p><p>　　陈王使魏人周巿略地。周巿使人谓雍齿曰：“丰，故梁徙也。今魏地已定者数十城。齿今下魏，魏以齿为侯守丰。不下，且屠丰。”雍齿雅不欲属沛公，及魏招之，即反为魏守丰。</p><p>　　沛公引兵攻丰，不能取。沛公病，还之沛。——《史记·高祖本纪第八》</p></blockquote><h1 id="加盟项梁"><a href="#加盟项梁" class="headerlink" title="加盟项梁"></a><FONT COLOR = SpringGreen>加盟项梁</font></h1><p>　　当时反秦的起义军主要有三条路：</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>自立为王</strong></font>：主要有两种情况<br>　　义军首领占领六国之地割据称王。如陈王陈涉、赵王武臣、燕王韩广。<br>　　六国后裔借助反秦大势复国自立。如齐王田儋、魏王咎。<br>　　但自立为王者大多数都不长久：陈胜六个月被杀、赵王武臣三个月被杀、魏王咎六个月被杀、齐王田儋六个月被杀、燕王韩广37个月被杀　</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>立人为王</strong></font>：反秦力量借六国国君后裔名义称王<br>　　严格来说魏王咎也属于这种情况，最典型的就是项梁立楚怀王熊心。<br>　　这种办法有好处，容易聚拢人心。但也容易给自己找一个领导，尤其是自己弱小的时候被人牵制。</p><p>　　<FONT COLOR = PowderBlue size = 4><strong>加盟连锁</strong></font>：自己势力比较弱小，于是加盟其他起义军。最典型的就是刘邦和陈婴。</p><p>　　在雍齿叛乱的影响下，刘邦一攻雍齿失败，意识到自己的力量太小，决定先加盟连锁，选择的第一个投奔的对象就是楚王景驹。</p><blockquote><p>　　沛公怨雍齿与丰子弟叛之，闻东阳宁君、秦嘉立景驹为假王，在留，乃往从之，欲请兵以攻丰。——《史记·高祖本纪第八》</p></blockquote><p>　　出乎意料的是，刘邦在投奔景驹的路上，遇到了改变自己一生的人——张良：</p><blockquote><p>　　楚王景驹在留，沛公往从之。张良亦聚少年百余人欲往从景驹，道遇沛公，遂属焉；沛公拜良为厩将。良数以太公兵法说沛公；沛公善之，常用其策；良为他人言，皆不省。良曰：“沛公殆天授！”故遂留不去。——《资治通鉴·前208》</p></blockquote><p>　　景驹是陈涉立的楚王，势力非常小，无法分兵给刘邦，刘邦通过自己与秦军作战收获降兵后，再次攻打雍齿，还是失败：</p><blockquote><p>　　沛公与良俱见景驹，欲请兵以攻丰。时章邯司马将兵北定楚地，屠相，至砀。东阳宁君、沛公引兵西，与战萧西，不利，还，收兵聚留。二月，攻砀崐，三日，拔之；收砀兵得六千人，与故合九千人。三月，攻下邑，拔之；还击丰，不下。——《资治通鉴·前208》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　刘邦与张良一同去进见景驹，想请求增拨兵力，以反攻丰邑。这时秦将章邯的向北占领楚的土地，洗劫屠戮相后，抵达砀。东阳人宁君、刘邦随即领兵西进，在萧县的西面与秦军交锋，但因出战失利而退回，收拢兵力聚集在留。二月，刘邦等攻打砀，历时三日，攻克了该城，收编了砀的降兵，得六千人，与以前的兵力汇合一处，达九千人。三月，刘邦等又率军攻打下邑，克复后，回击丰，却仍然未能攻下。</font></p><p>　　刘邦看见景驹指望不上后，决定去投奔军队最多的项梁，并且成功借到了项梁精锐的军队，平定了雍齿叛乱：</p><blockquote><p>　　闻项梁兵众，往请击之——《史记·秦楚之际月表第四》</p><p>　　闻项梁在薛，从骑百余往见之。项梁益沛公卒五千人，五大夫【五大夫：秦二十等爵的第九级。】 将十人。沛公还，引兵攻丰。——《史记·高祖本纪第八》</p><p>　　沛公从骑百余往见梁；梁与沛公卒五千人，五大夫将十人。沛公还，引兵攻丰，拔之。雍齿奔魏。——《资治通鉴·前208》</p></blockquote><p>　　刘邦至此，正式加盟项梁集团。刘邦初期在小事上是非常幸运的，但起兵后立马遭遇了巨大的挫折。</p><h1 id="重大机遇"><a href="#重大机遇" class="headerlink" title="重大机遇"></a><FONT COLOR = SpringGreen>重大机遇</font></h1><p>　　刘邦加盟项梁后，项梁集团发生了两件大事：熊心为王以及项梁战死。熊心为王的具体过程见《项羽01霸王出世》。项梁战死具体过程见《项羽01霸王出世》以及《项羽02项羽入关（上）》。</p><p>　　项梁立熊心为王为了反秦而运作的结果，但熊心没立多久，项梁就战死，这就给了刘邦巨大的机会：</p><blockquote><p>　　秦果悉起兵益章邯，击楚军，大破之定陶，项梁死。</p><p>　　楚兵已破于定陶，怀王恐，从盱台之彭城，并项羽、吕臣军自将之。以吕臣为司徒，以其父吕青为令尹。以沛公为砀郡长，封为武安侯，将砀郡兵。——《史记·项羽本纪第七》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　楚军在定陶被打败以后，楚怀王很恐慌，从盱台来到彭城，合并项羽、吕臣的军队亲自率领。他任命吕臣为司徒，任命吕臣的父亲吕青为令尹。他又任命沛公为砀郡长，封为武安侯，率领砀郡的士兵。</font></p><p>　　可以看出来，这个放羊娃熊心是一个非常有政治头脑的人，他是项氏家族立的，所以他对项氏家族一直都抱有戒备之心。项梁一战死，熊心立马收缴项梁个吕臣的军队，自己亲自掌握。然后提拔自己的亲信，扶持刘邦，打压项氏家族。而对刘邦，不仅没有削去兵权，还任命他为砀郡长、武安侯。<br>　　熊心对项氏家族有着巨大的排斥心理，项氏家族的势力越大，他的地位就越不牢。所以熊心一方面削弱项氏的权力，一方面扶持刘邦这种可以抗衡项羽的力量，希望可以利用刘邦来制衡项羽。<br>　　熊心为王、项梁战死，对于项氏集团来说都是坏事，但对刘邦来说都是好事。而楚怀王熊心立马给刘邦一个表现自己的机会，那就是入关灭秦：</p><blockquote><p>　　赵数请救，怀王乃以宋义为上将军，项羽为次将，范增为末将，北救赵。令沛公西略地入关。与诸将约，先入定关中者王之。——《史记·高祖本纪第八》</p></blockquote><hr><p>　　刘邦是个很幸运的人，他抓住了时代给他提供的机遇，成就了他因缘际会的人生。他并不是一个自觉地反暴政的英雄，也不是首举义旗的先行者，刘邦是被时代的潮流裹胁着前进的成功者。他对秦王朝的灭亡没有任何预见，而是在时代潮流的裹胁下，走上了一条机会与风险并存的人生之路。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;每个时代都有不同的时代主题。秦二世元年七月，陈胜吴广起义如晴天霹雳一般，击碎了秦帝国安逸的美梦。至此，反抗秦帝国的暴政就是这个时代的主题。&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="历史的天空" scheme="https://github.com/XuSiyuan-cn/categories/%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/"/>
    
    
    <category term="汉高祖" scheme="https://github.com/XuSiyuan-cn/tags/%E6%B1%89%E9%AB%98%E7%A5%96/"/>
    
  </entry>
  
  <entry>
    <title>汉高祖01传奇皇帝</title>
    <link href="https://github.com/XuSiyuan-cn/2021/02/26/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9601%E4%BC%A0%E5%A5%87%E7%9A%87%E5%B8%9D/"/>
    <id>https://github.com/XuSiyuan-cn/2021/02/26/04%20%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/03%E6%B1%89%E9%AB%98%E7%A5%96/%E6%B1%89%E9%AB%98%E7%A5%9601%E4%BC%A0%E5%A5%87%E7%9A%87%E5%B8%9D/</id>
    <published>2021-02-25T21:04:28.000Z</published>
    <updated>2021-02-22T02:21:12.624Z</updated>
    
    <content type="html"><![CDATA[<p><FONT SIZE = 2>公元前202年在山东定陶的一个土台上，五十五岁的刘邦，在群臣的欢呼声中戴上了皇帝的冠冕，他就是大汉王朝的开国皇帝。刘邦没有显赫的家族背景，只是一位普通农民的儿子，但是他却创造了一个又一个的奇迹。三年鏖战，摧毁强秦，四载奋斗，战胜项羽。创建了延续四百余年的大汉王朝。</FONT></p><a id="more"></a><h1 id="传奇出身"><a href="#传奇出身" class="headerlink" title="传奇出身"></a><FONT COLOR = SpringGreen>传奇出身</font></h1><p>　　在《秦始皇27集权皇帝》中就讲过，一个新王朝建立之前，会“出现”一些祥瑞的事。刘邦是中国历史上第一个平民皇帝，所以在这个方面，下了不少功夫：</p><h2 id="出生离奇"><a href="#出生离奇" class="headerlink" title="出生离奇"></a><FONT COLOR = Cyan>出生离奇</font></h2><blockquote><p>　　高祖，沛丰邑中阳里人，姓刘氏，字季。父曰太公，母曰刘媪ǎo<Font Size = 2>【父曰太公，母曰刘媪：太公、媪分别为对老年男女的敬称，并非刘邦父母之名。刘邦父母不参与政治活动，又因为避讳，所以文献中没有留下他们的名字。】</font>。其先刘媪尝息大泽之陂<Font Size = 2>【陂：水边。】</font>，梦与神遇。是时雷电晦冥，太公往视，则见蛟龙于其上。已而有身，遂产高祖。——《史记·高祖本纪第八》</p></blockquote><p>　　简而言之，就是刘邦的母亲和龙生下的刘邦。</p><h2 id="相貌奇特"><a href="#相貌奇特" class="headerlink" title="相貌奇特"></a><FONT COLOR = Cyan>相貌奇特</font></h2><blockquote><p>　　高祖为人，隆准<Font Size = 2>【隆准：高鼻梁。】</font>而龙颜<Font Size = 2>【龙颜：额头丰满。】</font>，美须髯rán，左股有七十二黑子。——《史记·高祖本纪第八》　</p></blockquote><p>　　刘邦的长相和常人特别不一样。鼻子很高，脖子很长，脸方方正正的，像龙的形状一样。而且刘邦是美须髯，胡子很长，很漂亮，大腿上还有72个黑痣。</p><blockquote><p>　　高祖为亭长时，常告归之田。吕后与两子居田中耨nòu<Font Size = 2>【耨：锄草。】</font>，有一老父过请饮，吕后因餔<Font Size = 2>【餔：请吃饭。】</font>之。老父相吕后曰：“夫人天下贵人。”令相两子。见孝惠，曰：“夫人所以贵者，乃此男也。”相鲁元，亦皆贵。老父已去，高祖适从旁舍来，吕后具言客有过，相我子母皆大贵。高祖问，曰：“未远。”乃追及，问老父。老父曰：“乡者<Font Size = 2>【乡者：刚才。乡，同“向”。】</font>夫人婴儿皆似君，君相贵不可言。”——《史记·高祖本纪第八》</p></blockquote><p>　　算命的给刘邦看相，觉得刘邦的相貌是大贵之相。</p><blockquote><p>　　吕公者，好相人，见高祖状貌，因重敬之，引入坐。萧何曰：“刘季固多大言，少成事。”高祖因狎侮诸</p><p>　　吕公曰：“臣少好相人，相人多矣，无如季相，愿季自爱。臣有息女<Font Size = 2>【息女：亲生女儿。】</font>，原为季箕帚妾。”——《史记·高祖本纪第八》</p></blockquote><p>　　吕后的父亲给刘邦相面，觉得刘邦是大贵之相。</p><h2 id="人气旺盛"><a href="#人气旺盛" class="headerlink" title="人气旺盛"></a><FONT COLOR = Cyan>人气旺盛</font></h2><blockquote><p>　　　常从王媪、武负<Font Size = 2>【武负：姓武的老妇。负，通“妇”。】</font>贳shì<Font Size = 2>【贳：赊欠。】</font>酒，醉卧，武负、王媪见其上常有龙，怪之。高祖每酤gū留饮，酒雠<Font Size = 2>【雠：出售。】</font>数倍。及见怪，岁竟，此两家常折券弃责zhài<Font Size = 2>【责：同“债”。】</font>。——《史记·高祖本纪第八》　</p></blockquote><p>　　刘邦喜欢赊账去喝酒，没钱也要办事，结果被他赊账过的店生意就会越来越好。两个卖酒的老婆婆还看到刘邦身上有龙。</p><h2 id="云气奇特"><a href="#云气奇特" class="headerlink" title="云气奇特"></a><FONT COLOR = Cyan>云气奇特</font></h2><blockquote><p>　　秦始皇帝常曰“东南有天子气”，于是因东游以厌<Font Size = 2>【厌：镇压。】</font>之。高祖即自疑，亡匿，隐于芒砀dàng山泽岩石之间。吕后与人俱求，常得之。高祖怪问之。吕后曰：“季所居上常有云气，故从往常得季。”高祖心喜。沛中子弟或闻之，多欲附者矣。——《史记·高祖本纪第八》</p></blockquote><p>　　刘邦隐居在芒砀山的时候，吕后就说他头上有云气，而且只有自己才看得见。<br>　　“看气”是战国时期很流行的事情，范增就很喜欢看云气。</p><h1 id="婚姻传奇"><a href="#婚姻传奇" class="headerlink" title="婚姻传奇"></a><FONT COLOR = SpringGreen>婚姻传奇</font></h1><blockquote><p>　　单父人吕公善沛令，避仇从之客，因家沛焉。沛中豪桀吏闻令有重客，皆往贺。萧何为主吏，主进<Font Size = 2>【进：接收客人进献的礼物。】</font> ，令诸大夫曰：“进不满千钱，坐之堂下。”<br>　　高祖为亭长，素易<Font Size = 2>【易：轻视。】</font> 诸吏，乃绐<Font Size = 2>【绐：欺骗。】</font> 为谒<Font Size = 2>【谒：拜访别人时所用的名帖，上面书写姓名等个人信息，以及拜访原因等说明文字，多为木片、竹片制成。】</font> 曰“贺钱万”，实不持一钱。谒入，吕公大惊，起，迎之门。<br>　　吕公者，好相人，见高祖状貌，因重敬之，引入坐。萧何曰：“刘季固多大言，少成事。”高祖因狎侮诸客，遂坐上坐，无所诎<Font Size = 2>【诎：谦让。】</font> 。酒阑<Font Size = 2>【阑：尽，结束。】</font> ，吕公因目固留高祖。高祖竟酒，后。吕公曰：“臣少好相人，相人多矣，无如季相，愿季自爱。臣有息女<Font Size = 2>【息女：亲生女儿。】</font> ，原为季箕帚妾。”<br>　　酒罢，吕媪怒吕公曰：“公始常欲奇此女，与贵人。<u>沛令善公，求之不与</u>，何自妄许与刘季？”吕公曰：“此非儿女子所知也。”卒与刘季。吕公女乃吕后也，生孝惠帝、鲁元公主。——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　单父人吕公和沛县令关系很好，为躲避仇家而投奔县令做宾客，就迁居到沛县。沛县的豪杰和官吏听说县令家来了贵客，都前往道贺。萧何是主吏，负责接收礼物，他对各位贵客说：“进献的礼钱不到一千钱的，坐在堂下。”<br>　　高祖担任亭长，一向看不起众官吏，就欺骗性地在名贴上写“贺礼一万钱”，实际上他没有带一个钱。名帖递进去后，吕公很惊讶，起身，到门口去迎接。<br>　　吕公这个人，喜好为人相面，见到高祖的相貌，就非常敬重他，带他到堂上坐下。萧何说：“刘季向来爱说大话，很少做成事。”高祖因而戏弄堂上众宾客，就自己坐到上座，毫不谦让。酒席结束，吕公趁机使眼色要求高祖留下来。高祖喝完酒，故意最后走。吕公说：“我年轻的时候就喜好为人相面，看过的人也有很多了，没有像你刘季这样的，希望你能自重。我有个亲生女儿，愿意许配给你做个打扫屋子的妻妾。”<br>　　酒席散后，吕媪生气地对吕公说：“您当初总是想让女儿与众不同，把她许配给贵人。沛县令对您很好，求娶女儿却不答应，为什么擅自把她许配给刘季？”吕公说：“这不是妇孺之辈所能够理解的。”最终他还是将女儿许配给了刘季。吕公的女儿就是吕后，生下了孝惠帝、鲁元公主。</font></p><p>　　“沛令善公，求之不与”这个怎么理解？有三种理解方式：县令向吕公求亲，希望吕雉嫁自己为妻。或者是县令为自己的儿子求妻。或者是代他人向吕公之女求婚。不管怎么理解，都说明了一点，那就是吕后是正常年龄出嫁，此时应该不到20岁，而且长得应该还算不错。<br>　　而此时刘邦应该在40岁以上了，刘邦46岁才和吕后生汉惠帝刘盈，所以两人结婚时，刘邦年纪不小。</p><p>　　这里记载吕公是因为刘邦面相好，才把女儿许给刘邦。这点站不住脚：<br>　　首先，面相这个东西虚无缥缈，算不得真。<br>　　其次，吕公的大女儿嫁给了刘邦，说刘邦的面相好还勉强说得过去。但是吕后的妹妹吕嬃是嫁给了屠夫樊哙，这总不能说樊哙的面相好吧？没有任何樊哙面相好的记录。<br>　　最后，如果吕公真是因为面相嫁女儿，就应该把自己所有女儿全给刘邦。比如汉武帝的外婆臧儿，就是为了政治投机，把自己两个女儿王儿姁、王娡全给了汉景帝当老婆。但显然吕公没有这么做。<br><Font Size = 2>　　我更倾向于，刘邦这个“贺钱万”被吕公当了真，然后许诺嫁女儿，之后即便是知道了真相也不好反悔，所以就这么将错就错。然后就此得罪县令，在这种情况下，吕后的妹妹吕嬃就只能嫁给家境也不好的樊哙了。</font></p><p>　　史学家在记载历史过程中，不可避免的会有两个倾向：神化、丑化。所有的记录记载，都受到时代的约束。刘邦的这么多传奇色彩，最主要的原因就是因为他是一个布衣皇帝，他只用了七年时间，就从亭长当上了皇帝。为了凸显自己的特别，于是就有了这么多的传奇故事。</p><h1 id="性格特点"><a href="#性格特点" class="headerlink" title="性格特点"></a><FONT COLOR = SpringGreen>性格特点</font></h1><p>　　我认为刘邦是一个很有魅力的现实的人。一方面他出生于市井，就注定他和贵族不一样，有着和普通人一样比较“庸俗”的兴趣爱好；另一方面他最后夺取了天下，说明他和普通的市井之徒不一样，有独特的人格魅力。</p><blockquote><p>　　（刘邦）仁而爱人，喜施，意豁如也。常有大度，不事家人生产作业。及壮，试为吏，为泗水亭长，廷中吏无所不狎侮<Font Size = 2>【狎侮：不庄重的亲近。】</font> 。好酒及色。</p><p>　　高祖常繇<Font Size = 2>【繇：服徭役。】</font> 咸阳，纵观，观秦皇帝，喟kuì然太息曰：“嗟乎，大丈夫当如此也！”——《史记·高祖本纪第八》</p></blockquote><p><Font Size = 2 Color = MediumAquaMarine>　　他仁厚爱人，喜欢施舍，胸襟广阔。他时常有远大的抱负，不愿从事普通百姓的生产劳作。等到壮年之时，被试用做过小吏，担任泗水亭长，廷中的官吏没有人不和他熟识。他喜好饮酒和女色。<br>　　高祖曾经前往咸阳去服徭役，随意观看，见到秦始皇帝，就长叹一声说：“唉，大丈夫就应该是这个样子！”</font><br>　　虽然经过后人多方演绎，但刘邦有着典型的“市井之徒”的流氓习气：<br>　　1、刘邦不爱劳动；<br>　　2、刘邦喜欢好酒美色；<br>　　3、刘邦不讲礼貌，亲近人不庄重。</p><p>　　但另一方面刘邦又不是一个纯粹的街头混混，他有自己的人格魅力：<br>　　1、刘邦仗义疏财，喜欢施舍。<br>　　2、刘邦仁厚爱人，胸襟广阔。刘邦是一个很有肚量的人。<br>　　3、虽然出身于市井，但刘邦有远大的抱负</p><p>　　在《高祖本纪》的前半段，主要是讲述了刘邦一系列传奇的身世，这些应该是来自于后来的“造神运动”。但是对于刘邦性格特点的总结，我认为是比较贴切的。</p><h1 id="斩蛇起义"><a href="#斩蛇起义" class="headerlink" title="斩蛇起义"></a><FONT COLOR = SpringGreen>斩蛇起义</font></h1><p>　　刘邦的故事从斩白蛇起义开始。</p><h2 id="丰西泽纵徒"><a href="#丰西泽纵徒" class="headerlink" title="丰西泽纵徒"></a><FONT COLOR = Cyan>丰西泽纵徒</font></h2><blockquote><p>　　高祖以亭长为县送徒郦山，徒多道亡。自度比至皆亡之，到丰西泽中，止饮，夜乃解纵所送徒。曰：“公等皆去，吾亦从此逝矣！”徒中壮士愿从者十余人。——《史记·高祖本纪第八》</p></blockquote><p>　　丰邑的丰西泽离他出发地点也不过几十里地，这些刑徒就逃了很多。还没出江苏，就有很多人逃走了。刘邦想了想到了陕西肯定都跑完了，所以干脆就把这些刑徒都放了。<br>　　这个时间点，大概在秦始皇后三年。具体哪一年未知。</p><h2 id="斩白蛇"><a href="#斩白蛇" class="headerlink" title="斩白蛇"></a><FONT COLOR = Cyan>斩白蛇</font></h2><blockquote><p>　　高祖被酒，夜径泽中，令一人行前。行前者还报曰：“前有大蛇当径，愿还。”高祖醉，曰：“<FONT COLOR = LimeGreen><strong>壮士行，何畏！</strong></font>”乃前，拔剑击斩蛇。蛇遂分为两，径开。行数里，醉，因卧。后人来至蛇所，有一老妪夜哭。人问何哭，妪曰：“人杀吾子，故哭之。”人曰：“妪子何为见杀？”妪曰：“吾子，白帝子也，化为蛇，当道，今为赤帝子斩之，故哭。”人乃以妪为不诚，欲告<Font Size = 2>【告：因其不诚而告发，未免小题大做。《汉书·高帝纪》作“苦”，即让老妇吃点苦头，比较合理。《汉书·高帝纪》材料主要取自《史记·高祖本纪》，所以此处从《汉书》。】</font>之，妪因忽不见。后人至，高祖觉。后人告高祖，高祖乃心独喜，自负。诸从者日益畏之。——《史记·高祖本纪第八》</p></blockquote><blockquote><p>　　赤帝子之说，则又因高祖为沛公旗帜皆赤而附会，未必与行序有关。《史记》本纪言旗帜皆赤，由所杀蛇白帝子，杀者赤帝子，疑出后人增窜，非谈、迁原文也。——吕思勉</p></blockquote><p>　　<FONT COLOR = PowderBlue >特别注意的是</font>，无论是斩白蛇还是丰西泽纵徒，都和起义一点关系都没有。这件事情发生在陈胜吴广起义之前，应该和大泽乡起义时间挨的比较近，但一定在大泽乡起义之前。<br>　　大泽乡起义之后，才有刘邦起兵反秦的故事。后世把刘邦起兵反秦和斩白蛇、丰西泽纵徒混为一谈，但实际上这几件事情没有关联。刘邦不是首举义旗的人，丰西泽纵徒本质上是刘邦宽厚待人的体现，是刘邦人格魅力的体现，但是和反秦斗争没有关系。</p><h2 id="芒砀山蛰伏"><a href="#芒砀山蛰伏" class="headerlink" title="芒砀山蛰伏"></a><FONT COLOR = Cyan>芒砀山蛰伏</font></h2><blockquote><p>　　秦始皇帝常曰“东南有天子气”，于是因东游以厌<Font Size = 2>【厌：镇压。】</font>之。高祖即自疑，亡匿，隐于芒砀dàng山泽岩石之间。吕后与人俱求，常得之。高祖怪问之。吕后曰：“季所居上常有云气，故从往常得季。”高祖心喜。沛中子弟或闻之，多欲附者矣。——《史记·高祖本纪第八》</p></blockquote><p>　　丰西泽纵徒之后，刘邦就此成为了帝国的逃犯，隐居在芒砀山。如果按照正常地发展下去，刘邦要么在芒砀山隐居一辈子，要么被官府抓住判处死刑。<br>　　但是一场巨大的时代浪潮即将朝刘邦涌来。这个时代浪潮给了刘邦成就自己的平台，这就是陈胜吴广起义。</p><hr><p>　　为什么汉朝又被称为炎汉？和刘邦的“赤帝子传说”有关吗？</p><p>　　<a href="https://imgchr.com/i/yaJW3F"><img src="https://s3.ax1x.com/2021/02/09/yaJW3F.png" alt="yaJW3F.png" style="zoom:50%;" /></a></p><p>　　中国上古时期就有了五行相生相克理论，每种五行还有主要的代表色。在这个基础上，战国时期齐国的阴阳家邹衍创立了“五德终始说”，来解释王朝兴衰反复的历史必然性。<br>　　邹衍认为黄帝为土德，木克土，所以夏朝为木德。商朝以武力革命的方式推翻夏朝，金克木，所以商朝为金德。武王伐纣建立周朝，火克金，所以周朝为火德。秦始皇统一天下后，规定秦为水德，水克火。<br>　　西汉建立后，刘邦淡化秦朝的存在，宣布汉朝才是真正的水德。<br>　　汉文帝十五年，博士公孙臣上书认为汉朝应该为土德，因为土克水，所以才能将秦朝吞灭，于是汉朝从水德改为土德，汉文帝由此穿黄袍。但第二年汉文帝就该穿红袍了，因为刘邦当年有赤帝子传说，他认为大汉既是土德，也应“协于火德”。所以从此西汉的皇帝以穿红袍为主。<br>　　直到王莽篡立，王莽认为自己是舜的传人，舜是土德，所以自己是土德。新朝是以禅让得到天下，所以应该用相生而不是相克。火生土，王莽规定西汉为火德。就此西汉的五行被确立为火德。<br>　　东汉建立，刘秀沿用了王莽的说法。所以从东汉开始，汉朝也被称为炎汉。连都城洛阳也改名为雒阳。<br>　　从此历朝历代都是以革命则五行相克，禅让则五行相生来规定自己的五德。</p><p>　　由此可见，刘邦当初编”赤帝子传说”的时候，他还没有想到邹衍的“五德终始说”，不然他应该编个“黑帝子传说”。汉朝被称为炎汉也只不过是王莽、刘秀操作的结果。只不过和刘邦“赤帝子传说”误打误撞上了而已。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;FONT SIZE = 2&gt;公元前202年在山东定陶的一个土台上，五十五岁的刘邦，在群臣的欢呼声中戴上了皇帝的冠冕，他就是大汉王朝的开国皇帝。刘邦没有显赫的家族背景，只是一位普通农民的儿子，但是他却创造了一个又一个的奇迹。三年鏖战，摧毁强秦，四载奋斗，战胜项羽。创建了延续四百余年的大汉王朝。&lt;/FONT&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="历史的天空" scheme="https://github.com/XuSiyuan-cn/categories/%E5%8E%86%E5%8F%B2%E7%9A%84%E5%A4%A9%E7%A9%BA/"/>
    
    
    <category term="汉高祖" scheme="https://github.com/XuSiyuan-cn/tags/%E6%B1%89%E9%AB%98%E7%A5%96/"/>
    
  </entry>
  
</feed>
